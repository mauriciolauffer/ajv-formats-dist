var ec=Object.defineProperty,tc=Object.defineProperties;var rc=Object.getOwnPropertyDescriptors;var Ia=Object.getOwnPropertySymbols;var nc=Object.prototype.hasOwnProperty,ac=Object.prototype.propertyIsEnumerable;var _n=Math.pow,ja=(_e,ye,he)=>ye in _e?ec(_e,ye,{enumerable:!0,configurable:!0,writable:!0,value:he}):_e[ye]=he,$e=(_e,ye)=>{for(var he in ye||(ye={}))nc.call(ye,he)&&ja(_e,he,ye[he]);if(Ia)for(var he of Ia(ye))ac.call(ye,he)&&ja(_e,he,ye[he]);return _e},We=(_e,ye)=>tc(_e,rc(ye));var Nt=(_e,ye,he)=>new Promise((Qt,Ot)=>{var Tt=Ee=>{try{ge(he.next(Ee))}catch(Ke){Ot(Ke)}},Yt=Ee=>{try{ge(he.throw(Ee))}catch(Ke){Ot(Ke)}},ge=Ee=>Ee.done?Qt(Ee.value):Promise.resolve(Ee.value).then(Tt,Yt);ge((he=he.apply(_e,ye)).next())});var ajvFormats=function(_e){"use strict";var ye=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},he={exports:{}},Qt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(M,U){return{validate:M,compare:U}}e.fullFormats={date:t(i,u),time:t($,f),"date-time":t(y,j),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:E,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:D,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:C},int64:{type:"number",validate:A},float:{type:"number",validate:g},double:{type:"number",validate:g},password:!0,binary:!0},e.fastFormats=We($e({},e.fullFormats),{date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,u),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,j),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i}),e.formatNames=Object.keys(e.fullFormats);function r(M){return M%4===0&&(M%100!==0||M%400===0)}const a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(M){const U=a.exec(M);if(!U)return!1;const B=+U[1],H=+U[2],le=+U[3];return H>=1&&H<=12&&le>=1&&le<=(H===2&&r(B)?29:n[H])}function u(M,U){if(!!(M&&U))return M>U?1:M<U?-1:0}const p=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function $(M,U){const B=p.exec(M);if(!B)return!1;const H=+B[1],le=+B[2],ne=+B[3],Te=B[5];return(H<=23&&le<=59&&ne<=59||H===23&&le===59&&ne===60)&&(!U||Te!=="")}function f(M,U){if(!(M&&U))return;const B=p.exec(M),H=p.exec(U);if(!!(B&&H))return M=B[1]+B[2]+B[3]+(B[4]||""),U=H[1]+H[2]+H[3]+(H[4]||""),M>U?1:M<U?-1:0}const h=/t|\s/i;function y(M){const U=M.split(h);return U.length===2&&i(U[0])&&$(U[1],!0)}function j(M,U){if(!(M&&U))return;const[B,H]=M.split(h),[le,ne]=U.split(h),Te=u(B,le);if(Te!==void 0)return Te||f(H,ne)}const I=/\/|:/,P=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function E(M){return I.test(M)&&P.test(M)}const v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(M){return v.lastIndex=0,v.test(M)}const O=-_n(2,31),b=_n(2,31)-1;function C(M){return Number.isInteger(M)&&M<=b&&M>=O}function A(M){return Number.isInteger(M)}function g(){return!0}const T=/[^\\]\\Z/;function D(M){if(T.test(M))return!1;try{return new RegExp(M),!0}catch(U){return!1}}})(Qt);var Ot={},Tt={exports:{}},Yt={},ge={},Ee={},Ke={},W={},Ct={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(O){if(super(),!e.IDENTIFIER.test(O))throw new Error("CodeGen: name must be a valid identifier");this.str=O}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class a extends t{constructor(O){super(),this._items=typeof O=="string"?[O]:O}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const O=this._items[0];return O===""||O==='""'}get str(){var O;return(O=this._str)!==null&&O!==void 0?O:this._str=this._items.reduce((b,C)=>`${b}${C}`,"")}get names(){var O;return(O=this._names)!==null&&O!==void 0?O:this._names=this._items.reduce((b,C)=>(C instanceof r&&(b[C.str]=(b[C.str]||0)+1),b),{})}}e._Code=a,e.nil=new a("");function n(m,...O){const b=[m[0]];let C=0;for(;C<O.length;)p(b,O[C]),b.push(m[++C]);return new a(b)}e._=n;const i=new a("+");function u(m,...O){const b=[I(m[0])];let C=0;for(;C<O.length;)b.push(i),p(b,O[C]),b.push(i,I(m[++C]));return $(b),new a(b)}e.str=u;function p(m,O){O instanceof a?m.push(...O._items):O instanceof r?m.push(O):m.push(y(O))}e.addCodeArg=p;function $(m){let O=1;for(;O<m.length-1;){if(m[O]===i){const b=f(m[O-1],m[O+1]);if(b!==void 0){m.splice(O-1,3,b);continue}m[O++]="+"}O++}}function f(m,O){if(O==='""')return m;if(m==='""')return O;if(typeof m=="string")return O instanceof r||m[m.length-1]!=='"'?void 0:typeof O!="string"?`${m.slice(0,-1)}${O}"`:O[0]==='"'?m.slice(0,-1)+O.slice(1):void 0;if(typeof O=="string"&&O[0]==='"'&&!(m instanceof r))return`"${m}${O.slice(1)}`}function h(m,O){return O.emptyStr()?m:m.emptyStr()?O:u`${m}${O}`}e.strConcat=h;function y(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:I(Array.isArray(m)?m.join(","):m)}function j(m){return new a(I(m))}e.stringify=j;function I(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=I;function P(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new a(`.${m}`):n`[${m}]`}e.getProperty=P;function E(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new a(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=E;function v(m){return new a(m.toString())}e.regexpCode=v})(Ct);var Er={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Ct;class r extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var a;(function($){$[$.Started=0]="Started",$[$.Completed=1]="Completed"})(a=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class n{constructor({prefixes:f,parent:h}={}){this._names={},this._prefixes=f,this._parent=h}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const h=this._names[f]||this._nameGroup(f);return`${f}${h.index++}`}_nameGroup(f){var h,y;if(((y=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||y===void 0?void 0:y.has(f))||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=n;class i extends t.Name{constructor(f,h){super(h),this.prefix=f}setValue(f,{property:h,itemIndex:y}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(h)}[${y}]`}}e.ValueScopeName=i;const u=(0,t._)`\n`;class p extends n{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts=We($e({},f),{_n:f.lines?u:t.nil})}get(){return this._scope}name(f){return new i(f,this._newName(f))}value(f,h){var y;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const j=this.toName(f),{prefix:I}=j,P=(y=h.key)!==null&&y!==void 0?y:h.ref;let E=this._values[I];if(E){const O=E.get(P);if(O)return O}else E=this._values[I]=new Map;E.set(P,j);const v=this._scope[I]||(this._scope[I]=[]),m=v.length;return v[m]=h.ref,j.setValue(h,{property:I,itemIndex:m}),j}getValue(f,h){const y=this._values[f];if(!!y)return y.get(h)}scopeRefs(f,h=this._values){return this._reduceValues(h,y=>{if(y.scopePath===void 0)throw new Error(`CodeGen: name "${y}" has no value`);return(0,t._)`${f}${y.scopePath}`})}scopeCode(f=this._values,h,y){return this._reduceValues(f,j=>{if(j.value===void 0)throw new Error(`CodeGen: name "${j}" has no value`);return j.value.code},h,y)}_reduceValues(f,h,y={},j){let I=t.nil;for(const P in f){const E=f[P];if(!E)continue;const v=y[P]=y[P]||new Map;E.forEach(m=>{if(v.has(m))return;v.set(m,a.Started);let O=h(m);if(O){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;I=(0,t._)`${I}${b} ${m} = ${O};${this.opts._n}`}else if(O=j==null?void 0:j(m))I=(0,t._)`${I}${O}${this.opts._n}`;else throw new r(m);v.set(m,a.Completed)})}return I}}e.ValueScope=p})(Er),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Ct,r=Er;var a=Ct;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return a.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return a.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return a.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return a.Name}});var n=Er;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(s,d){return this}}class u extends i{constructor(s,d,R){super(),this.varKind=s,this.name=d,this.rhs=R}render({es5:s,_n:d}){const R=s?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${R} ${this.name}${V};`+d}optimizeNames(s,d){if(!!s[this.name.str])return this.rhs&&(this.rhs=ne(this.rhs,s,d)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class p extends i{constructor(s,d,R){super(),this.lhs=s,this.rhs=d,this.sideEffects=R}render({_n:s}){return`${this.lhs} = ${this.rhs};`+s}optimizeNames(s,d){if(!(this.lhs instanceof t.Name&&!s[this.lhs.str]&&!this.sideEffects))return this.rhs=ne(this.rhs,s,d),this}get names(){const s=this.lhs instanceof t.Name?{}:$e({},this.lhs.names);return le(s,this.rhs)}}class $ extends p{constructor(s,d,R,V){super(s,R,V),this.op=d}render({_n:s}){return`${this.lhs} ${this.op}= ${this.rhs};`+s}}class f extends i{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`${this.label}:`+s}}class h extends i{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`break${this.label?` ${this.label}`:""};`+s}}class y extends i{constructor(s){super(),this.error=s}render({_n:s}){return`throw ${this.error};`+s}get names(){return this.error.names}}class j extends i{constructor(s){super(),this.code=s}render({_n:s}){return`${this.code};`+s}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(s,d){return this.code=ne(this.code,s,d),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class I extends i{constructor(s=[]){super(),this.nodes=s}render(s){return this.nodes.reduce((d,R)=>d+R.render(s),"")}optimizeNodes(){const{nodes:s}=this;let d=s.length;for(;d--;){const R=s[d].optimizeNodes();Array.isArray(R)?s.splice(d,1,...R):R?s[d]=R:s.splice(d,1)}return s.length>0?this:void 0}optimizeNames(s,d){const{nodes:R}=this;let V=R.length;for(;V--;){const F=R[V];F.optimizeNames(s,d)||(Te(s,F.names),R.splice(V,1))}return R.length>0?this:void 0}get names(){return this.nodes.reduce((s,d)=>H(s,d.names),{})}}class P extends I{render(s){return"{"+s._n+super.render(s)+"}"+s._n}}class E extends I{}class v extends P{}v.kind="else";class m extends P{constructor(s,d){super(d),this.condition=s}render(s){let d=`if(${this.condition})`+super.render(s);return this.else&&(d+="else "+this.else.render(s)),d}optimizeNodes(){super.optimizeNodes();const s=this.condition;if(s===!0)return this.nodes;let d=this.else;if(d){const R=d.optimizeNodes();d=this.else=Array.isArray(R)?new v(R):R}if(d)return s===!1?d instanceof m?d:d.nodes:this.nodes.length?this:new m(st(s),d instanceof m?[d]:d.nodes);if(!(s===!1||!this.nodes.length))return this}optimizeNames(s,d){var R;if(this.else=(R=this.else)===null||R===void 0?void 0:R.optimizeNames(s,d),!!(super.optimizeNames(s,d)||this.else))return this.condition=ne(this.condition,s,d),this}get names(){const s=super.names;return le(s,this.condition),this.else&&H(s,this.else.names),s}}m.kind="if";class O extends P{}O.kind="for";class b extends O{constructor(s){super(),this.iteration=s}render(s){return`for(${this.iteration})`+super.render(s)}optimizeNames(s,d){if(!!super.optimizeNames(s,d))return this.iteration=ne(this.iteration,s,d),this}get names(){return H(super.names,this.iteration.names)}}class C extends O{constructor(s,d,R,V){super(),this.varKind=s,this.name=d,this.from=R,this.to=V}render(s){const d=s.es5?r.varKinds.var:this.varKind,{name:R,from:V,to:F}=this;return`for(${d} ${R}=${V}; ${R}<${F}; ${R}++)`+super.render(s)}get names(){const s=le(super.names,this.from);return le(s,this.to)}}class A extends O{constructor(s,d,R,V){super(),this.loop=s,this.varKind=d,this.name=R,this.iterable=V}render(s){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(s)}optimizeNames(s,d){if(!!super.optimizeNames(s,d))return this.iterable=ne(this.iterable,s,d),this}get names(){return H(super.names,this.iterable.names)}}class g extends P{constructor(s,d,R){super(),this.name=s,this.args=d,this.async=R}render(s){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(s)}}g.kind="func";class T extends I{render(s){return"return "+super.render(s)}}T.kind="return";class D extends P{render(s){let d="try"+super.render(s);return this.catch&&(d+=this.catch.render(s)),this.finally&&(d+=this.finally.render(s)),d}optimizeNodes(){var s,d;return super.optimizeNodes(),(s=this.catch)===null||s===void 0||s.optimizeNodes(),(d=this.finally)===null||d===void 0||d.optimizeNodes(),this}optimizeNames(s,d){var R,V;return super.optimizeNames(s,d),(R=this.catch)===null||R===void 0||R.optimizeNames(s,d),(V=this.finally)===null||V===void 0||V.optimizeNames(s,d),this}get names(){const s=super.names;return this.catch&&H(s,this.catch.names),this.finally&&H(s,this.finally.names),s}}class M extends P{constructor(s){super(),this.error=s}render(s){return`catch(${this.error})`+super.render(s)}}M.kind="catch";class U extends P{render(s){return"finally"+super.render(s)}}U.kind="finally";class B{constructor(s,d={}){this._values={},this._blockStarts=[],this._constants={},this.opts=We($e({},d),{_n:d.lines?`
`:""}),this._extScope=s,this._scope=new r.Scope({parent:s}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(s){return this._scope.name(s)}scopeName(s){return this._extScope.name(s)}scopeValue(s,d){const R=this._extScope.value(s,d);return(this._values[R.prefix]||(this._values[R.prefix]=new Set)).add(R),R}getScopeValue(s,d){return this._extScope.getValue(s,d)}scopeRefs(s){return this._extScope.scopeRefs(s,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(s,d,R,V){const F=this._scope.toName(d);return R!==void 0&&V&&(this._constants[F.str]=R),this._leafNode(new u(s,F,R)),F}const(s,d,R){return this._def(r.varKinds.const,s,d,R)}let(s,d,R){return this._def(r.varKinds.let,s,d,R)}var(s,d,R){return this._def(r.varKinds.var,s,d,R)}assign(s,d,R){return this._leafNode(new p(s,d,R))}add(s,d){return this._leafNode(new $(s,e.operators.ADD,d))}code(s){return typeof s=="function"?s():s!==t.nil&&this._leafNode(new j(s)),this}object(...s){const d=["{"];for(const[R,V]of s)d.length>1&&d.push(","),d.push(R),(R!==V||this.opts.es5)&&(d.push(":"),(0,t.addCodeArg)(d,V));return d.push("}"),new t._Code(d)}if(s,d,R){if(this._blockNode(new m(s)),d&&R)this.code(d).else().code(R).endIf();else if(d)this.code(d).endIf();else if(R)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(s){return this._elseNode(new m(s))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(m,v)}_for(s,d){return this._blockNode(s),d&&this.code(d).endFor(),this}for(s,d){return this._for(new b(s),d)}forRange(s,d,R,V,F=this.opts.es5?r.varKinds.var:r.varKinds.let){const Q=this._scope.toName(s);return this._for(new C(F,Q,d,R),()=>V(Q))}forOf(s,d,R,V=r.varKinds.const){const F=this._scope.toName(s);if(this.opts.es5){const Q=d instanceof t.Name?d:this.var("_arr",d);return this.forRange("_i",0,(0,t._)`${Q}.length`,Z=>{this.var(F,(0,t._)`${Q}[${Z}]`),R(F)})}return this._for(new A("of",V,F,d),()=>R(F))}forIn(s,d,R,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(s,(0,t._)`Object.keys(${d})`,R);const F=this._scope.toName(s);return this._for(new A("in",V,F,d),()=>R(F))}endFor(){return this._endBlockNode(O)}label(s){return this._leafNode(new f(s))}break(s){return this._leafNode(new h(s))}return(s){const d=new T;if(this._blockNode(d),this.code(s),d.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(s,d,R){if(!d&&!R)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new D;if(this._blockNode(V),this.code(s),d){const F=this.name("e");this._currNode=V.catch=new M(F),d(F)}return R&&(this._currNode=V.finally=new U,this.code(R)),this._endBlockNode(M,U)}throw(s){return this._leafNode(new y(s))}block(s,d){return this._blockStarts.push(this._nodes.length),s&&this.code(s).endBlock(d),this}endBlock(s){const d=this._blockStarts.pop();if(d===void 0)throw new Error("CodeGen: not in self-balancing block");const R=this._nodes.length-d;if(R<0||s!==void 0&&R!==s)throw new Error(`CodeGen: wrong number of nodes: ${R} vs ${s} expected`);return this._nodes.length=d,this}func(s,d=t.nil,R,V){return this._blockNode(new g(s,d,R)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(g)}optimize(s=1){for(;s-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(s){return this._currNode.nodes.push(s),this}_blockNode(s){this._currNode.nodes.push(s),this._nodes.push(s)}_endBlockNode(s,d){const R=this._currNode;if(R instanceof s||d&&R instanceof d)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${d?`${s.kind}/${d.kind}`:s.kind}"`)}_elseNode(s){const d=this._currNode;if(!(d instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=d.else=s,this}get _root(){return this._nodes[0]}get _currNode(){const s=this._nodes;return s[s.length-1]}set _currNode(s){const d=this._nodes;d[d.length-1]=s}}e.CodeGen=B;function H(w,s){for(const d in s)w[d]=(w[d]||0)+(s[d]||0);return w}function le(w,s){return s instanceof t._CodeOrName?H(w,s.names):w}function ne(w,s,d){if(w instanceof t.Name)return R(w);if(!V(w))return w;return new t._Code(w._items.reduce((F,Q)=>(Q instanceof t.Name&&(Q=R(Q)),Q instanceof t._Code?F.push(...Q._items):F.push(Q),F),[]));function R(F){const Q=d[F.str];return Q===void 0||s[F.str]!==1?F:(delete s[F.str],Q)}function V(F){return F instanceof t._Code&&F._items.some(Q=>Q instanceof t.Name&&s[Q.str]===1&&d[Q.str]!==void 0)}}function Te(w,s){for(const d in s)w[d]=(w[d]||0)-(s[d]||0)}function st(w){return typeof w=="boolean"||typeof w=="number"||w===null?!w:(0,t._)`!${k(w)}`}e.not=st;const yt=_(e.operators.AND);function Ut(...w){return w.reduce(yt)}e.and=Ut;const vt=_(e.operators.OR);function z(...w){return w.reduce(vt)}e.or=z;function _(w){return(s,d)=>s===t.nil?d:d===t.nil?s:(0,t._)`${k(s)} ${w} ${k(d)}`}function k(w){return w instanceof t.Name?w:(0,t._)`(${w})`}}(W);var ee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=W,r=Ct;function a(g){const T={};for(const D of g)T[D]=!0;return T}e.toHash=a;function n(g,T){return typeof T=="boolean"?T:Object.keys(T).length===0?!0:(i(g,T),!u(T,g.self.RULES.all))}e.alwaysValidSchema=n;function i(g,T=g.schema){const{opts:D,self:M}=g;if(!D.strictSchema||typeof T=="boolean")return;const U=M.RULES.keywords;for(const B in T)U[B]||A(g,`unknown keyword: "${B}"`)}e.checkUnknownRules=i;function u(g,T){if(typeof g=="boolean")return!g;for(const D in g)if(T[D])return!0;return!1}e.schemaHasRules=u;function p(g,T){if(typeof g=="boolean")return!g;for(const D in g)if(D!=="$ref"&&T.all[D])return!0;return!1}e.schemaHasRulesButRef=p;function $({topSchemaRef:g,schemaPath:T},D,M,U){if(!U){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${g}${T}${(0,t.getProperty)(M)}`}e.schemaRefOrVal=$;function f(g){return j(decodeURIComponent(g))}e.unescapeFragment=f;function h(g){return encodeURIComponent(y(g))}e.escapeFragment=h;function y(g){return typeof g=="number"?`${g}`:g.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=y;function j(g){return g.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=j;function I(g,T){if(Array.isArray(g))for(const D of g)T(D);else T(g)}e.eachItem=I;function P({mergeNames:g,mergeToName:T,mergeValues:D,resultToName:M}){return(U,B,H,le)=>{const ne=H===void 0?B:H instanceof t.Name?(B instanceof t.Name?g(U,B,H):T(U,B,H),H):B instanceof t.Name?(T(U,H,B),B):D(B,H);return le===t.Name&&!(ne instanceof t.Name)?M(U,ne):ne}}e.mergeEvaluated={props:P({mergeNames:(g,T,D)=>g.if((0,t._)`${D} !== true && ${T} !== undefined`,()=>{g.if((0,t._)`${T} === true`,()=>g.assign(D,!0),()=>g.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${T})`))}),mergeToName:(g,T,D)=>g.if((0,t._)`${D} !== true`,()=>{T===!0?g.assign(D,!0):(g.assign(D,(0,t._)`${D} || {}`),v(g,D,T))}),mergeValues:(g,T)=>g===!0?!0:$e($e({},g),T),resultToName:E}),items:P({mergeNames:(g,T,D)=>g.if((0,t._)`${D} !== true && ${T} !== undefined`,()=>g.assign(D,(0,t._)`${T} === true ? true : ${D} > ${T} ? ${D} : ${T}`)),mergeToName:(g,T,D)=>g.if((0,t._)`${D} !== true`,()=>g.assign(D,T===!0?!0:(0,t._)`${D} > ${T} ? ${D} : ${T}`)),mergeValues:(g,T)=>g===!0?!0:Math.max(g,T),resultToName:(g,T)=>g.var("items",T)})};function E(g,T){if(T===!0)return g.var("props",!0);const D=g.var("props",(0,t._)`{}`);return T!==void 0&&v(g,D,T),D}e.evaluatedPropsToName=E;function v(g,T,D){Object.keys(D).forEach(M=>g.assign((0,t._)`${T}${(0,t.getProperty)(M)}`,!0))}e.setEvaluated=v;const m={};function O(g,T){return g.scopeValue("func",{ref:T,code:m[T.code]||(m[T.code]=new r._Code(T.code))})}e.useFunc=O;var b;(function(g){g[g.Num=0]="Num",g[g.Str=1]="Str"})(b=e.Type||(e.Type={}));function C(g,T,D){if(g instanceof t.Name){const M=T===b.Num;return D?M?(0,t._)`"[" + ${g} + "]"`:(0,t._)`"['" + ${g} + "']"`:M?(0,t._)`"/" + ${g}`:(0,t._)`"/" + ${g}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(g).toString():"/"+y(g)}e.getErrorPath=C;function A(g,T,D=g.opts.strictSchema){if(!!D){if(T=`strict mode: ${T}`,D===!0)throw new Error(T);g.self.logger.warn(T)}}e.checkStrictMode=A})(ee);var De={};Object.defineProperty(De,"__esModule",{value:!0});const ve=W,ka={data:new ve.Name("data"),valCxt:new ve.Name("valCxt"),instancePath:new ve.Name("instancePath"),parentData:new ve.Name("parentData"),parentDataProperty:new ve.Name("parentDataProperty"),rootData:new ve.Name("rootData"),dynamicAnchors:new ve.Name("dynamicAnchors"),vErrors:new ve.Name("vErrors"),errors:new ve.Name("errors"),this:new ve.Name("this"),self:new ve.Name("self"),scope:new ve.Name("scope"),json:new ve.Name("json"),jsonPos:new ve.Name("jsonPos"),jsonLen:new ve.Name("jsonLen"),jsonPart:new ve.Name("jsonPart")};De.default=ka,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=W,r=ee,a=De;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:m})=>m?(0,t.str)`"${v}" keyword must be ${m} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function n(v,m=e.keywordError,O,b){const{it:C}=v,{gen:A,compositeRule:g,allErrors:T}=C,D=y(v,m,O);(b!=null?b:g||T)?$(A,D):f(C,(0,t._)`[${D}]`)}e.reportError=n;function i(v,m=e.keywordError,O){const{it:b}=v,{gen:C,compositeRule:A,allErrors:g}=b,T=y(v,m,O);$(C,T),A||g||f(b,a.default.vErrors)}e.reportExtraError=i;function u(v,m){v.assign(a.default.errors,m),v.if((0,t._)`${a.default.vErrors} !== null`,()=>v.if(m,()=>v.assign((0,t._)`${a.default.vErrors}.length`,m),()=>v.assign(a.default.vErrors,null)))}e.resetErrorsCount=u;function p({gen:v,keyword:m,schemaValue:O,data:b,errsCount:C,it:A}){if(C===void 0)throw new Error("ajv implementation error");const g=v.name("err");v.forRange("i",C,a.default.errors,T=>{v.const(g,(0,t._)`${a.default.vErrors}[${T}]`),v.if((0,t._)`${g}.instancePath === undefined`,()=>v.assign((0,t._)`${g}.instancePath`,(0,t.strConcat)(a.default.instancePath,A.errorPath))),v.assign((0,t._)`${g}.schemaPath`,(0,t.str)`${A.errSchemaPath}/${m}`),A.opts.verbose&&(v.assign((0,t._)`${g}.schema`,O),v.assign((0,t._)`${g}.data`,b))})}e.extendErrors=p;function $(v,m){const O=v.const("err",m);v.if((0,t._)`${a.default.vErrors} === null`,()=>v.assign(a.default.vErrors,(0,t._)`[${O}]`),(0,t._)`${a.default.vErrors}.push(${O})`),v.code((0,t._)`${a.default.errors}++`)}function f(v,m){const{gen:O,validateName:b,schemaEnv:C}=v;C.$async?O.throw((0,t._)`new ${v.ValidationError}(${m})`):(O.assign((0,t._)`${b}.errors`,m),O.return(!1))}const h={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function y(v,m,O){const{createErrors:b}=v.it;return b===!1?(0,t._)`{}`:j(v,m,O)}function j(v,m,O={}){const{gen:b,it:C}=v,A=[I(C,O),P(v,O)];return E(v,m,A),b.object(...A)}function I({errorPath:v},{instancePath:m}){const O=m?(0,t.str)`${v}${(0,r.getErrorPath)(m,r.Type.Str)}`:v;return[a.default.instancePath,(0,t.strConcat)(a.default.instancePath,O)]}function P({keyword:v,it:{errSchemaPath:m}},{schemaPath:O,parentSchema:b}){let C=b?m:(0,t.str)`${m}/${v}`;return O&&(C=(0,t.str)`${C}${(0,r.getErrorPath)(O,r.Type.Str)}`),[h.schemaPath,C]}function E(v,{params:m,message:O},b){const{keyword:C,data:A,schemaValue:g,it:T}=v,{opts:D,propertyName:M,topSchemaRef:U,schemaPath:B}=T;b.push([h.keyword,C],[h.params,typeof m=="function"?m(v):m||(0,t._)`{}`]),D.messages&&b.push([h.message,typeof O=="function"?O(v):O]),D.verbose&&b.push([h.schema,g],[h.parentSchema,(0,t._)`${U}${B}`],[a.default.data,A]),M&&b.push([h.propertyName,M])}}(Ke),Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.boolOrEmptySchema=Ee.topBoolOrEmptySchema=void 0;const Da=Ke,Aa=W,Ma=De,za={message:"boolean schema is false"};function Va(e){const{gen:t,schema:r,validateName:a}=e;r===!1?gn(e,!1):typeof r=="object"&&r.$async===!0?t.return(Ma.default.data):(t.assign((0,Aa._)`${a}.errors`,null),t.return(!0))}Ee.topBoolOrEmptySchema=Va;function Fa(e,t){const{gen:r,schema:a}=e;a===!1?(r.var(t,!1),gn(e)):r.var(t,!0)}Ee.boolOrEmptySchema=Fa;function gn(e,t){const{gen:r,data:a}=e,n={gen:r,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Da.reportError)(n,za,void 0,t)}var Rt={},xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.getRules=xe.isJSONType=void 0;const Ua=["string","number","integer","boolean","null","object","array"],qa=new Set(Ua);function La(e){return typeof e=="string"&&qa.has(e)}xe.isJSONType=La;function Ka(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:We($e({},e),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}xe.getRules=Ka;var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.shouldUseRule=He.shouldUseGroup=He.schemaHasRulesForType=void 0;function Ha({schema:e,self:t},r){const a=t.RULES.types[r];return a&&a!==!0&&wn(e,a)}He.schemaHasRulesForType=Ha;function wn(e,t){return t.rules.some(r=>En(e,r))}He.shouldUseGroup=wn;function En(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(a=>e[a]!==void 0))}He.shouldUseRule=En,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=xe,r=He,a=Ke,n=W,i=ee;var u;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(u=e.DataType||(e.DataType={}));function p(b){const C=$(b.type);if(C.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!C.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&C.push("null")}return C}e.getSchemaTypes=p;function $(b){const C=Array.isArray(b)?b:b?[b]:[];if(C.every(t.isJSONType))return C;throw new Error("type must be JSONType or JSONType[]: "+C.join(","))}e.getJSONTypes=$;function f(b,C){const{gen:A,data:g,opts:T}=b,D=y(C,T.coerceTypes),M=C.length>0&&!(D.length===0&&C.length===1&&(0,r.schemaHasRulesForType)(b,C[0]));if(M){const U=E(C,g,T.strictNumbers,u.Wrong);A.if(U,()=>{D.length?j(b,C,D):m(b)})}return M}e.coerceAndCheckDataType=f;const h=new Set(["string","number","integer","boolean","null"]);function y(b,C){return C?b.filter(A=>h.has(A)||C==="array"&&A==="array"):[]}function j(b,C,A){const{gen:g,data:T,opts:D}=b,M=g.let("dataType",(0,n._)`typeof ${T}`),U=g.let("coerced",(0,n._)`undefined`);D.coerceTypes==="array"&&g.if((0,n._)`${M} == 'object' && Array.isArray(${T}) && ${T}.length == 1`,()=>g.assign(T,(0,n._)`${T}[0]`).assign(M,(0,n._)`typeof ${T}`).if(E(C,T,D.strictNumbers),()=>g.assign(U,T))),g.if((0,n._)`${U} !== undefined`);for(const H of A)(h.has(H)||H==="array"&&D.coerceTypes==="array")&&B(H);g.else(),m(b),g.endIf(),g.if((0,n._)`${U} !== undefined`,()=>{g.assign(T,U),I(b,U)});function B(H){switch(H){case"string":g.elseIf((0,n._)`${M} == "number" || ${M} == "boolean"`).assign(U,(0,n._)`"" + ${T}`).elseIf((0,n._)`${T} === null`).assign(U,(0,n._)`""`);return;case"number":g.elseIf((0,n._)`${M} == "boolean" || ${T} === null
              || (${M} == "string" && ${T} && ${T} == +${T})`).assign(U,(0,n._)`+${T}`);return;case"integer":g.elseIf((0,n._)`${M} === "boolean" || ${T} === null
              || (${M} === "string" && ${T} && ${T} == +${T} && !(${T} % 1))`).assign(U,(0,n._)`+${T}`);return;case"boolean":g.elseIf((0,n._)`${T} === "false" || ${T} === 0 || ${T} === null`).assign(U,!1).elseIf((0,n._)`${T} === "true" || ${T} === 1`).assign(U,!0);return;case"null":g.elseIf((0,n._)`${T} === "" || ${T} === 0 || ${T} === false`),g.assign(U,null);return;case"array":g.elseIf((0,n._)`${M} === "string" || ${M} === "number"
              || ${M} === "boolean" || ${T} === null`).assign(U,(0,n._)`[${T}]`)}}}function I({gen:b,parentData:C,parentDataProperty:A},g){b.if((0,n._)`${C} !== undefined`,()=>b.assign((0,n._)`${C}[${A}]`,g))}function P(b,C,A,g=u.Correct){const T=g===u.Correct?n.operators.EQ:n.operators.NEQ;let D;switch(b){case"null":return(0,n._)`${C} ${T} null`;case"array":D=(0,n._)`Array.isArray(${C})`;break;case"object":D=(0,n._)`${C} && typeof ${C} == "object" && !Array.isArray(${C})`;break;case"integer":D=M((0,n._)`!(${C} % 1) && !isNaN(${C})`);break;case"number":D=M();break;default:return(0,n._)`typeof ${C} ${T} ${b}`}return g===u.Correct?D:(0,n.not)(D);function M(U=n.nil){return(0,n.and)((0,n._)`typeof ${C} == "number"`,U,A?(0,n._)`isFinite(${C})`:n.nil)}}e.checkDataType=P;function E(b,C,A,g){if(b.length===1)return P(b[0],C,A,g);let T;const D=(0,i.toHash)(b);if(D.array&&D.object){const M=(0,n._)`typeof ${C} != "object"`;T=D.null?M:(0,n._)`!${C} || ${M}`,delete D.null,delete D.array,delete D.object}else T=n.nil;D.number&&delete D.integer;for(const M in D)T=(0,n.and)(T,P(M,C,A,g));return T}e.checkDataTypes=E;const v={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:C})=>typeof b=="string"?(0,n._)`{type: ${b}}`:(0,n._)`{type: ${C}}`};function m(b){const C=O(b);(0,a.reportError)(C,v)}e.reportTypeError=m;function O(b){const{gen:C,data:A,schema:g}=b,T=(0,i.schemaRefOrVal)(b,g,"type");return{gen:C,keyword:"type",data:A,schema:g.type,schemaCode:T,schemaValue:T,parentSchema:g,params:{},it:b}}}(Rt);var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.assignDefaults=void 0;const dt=W,Ga=ee;function Ja(e,t){const{properties:r,items:a}=e.schema;if(t==="object"&&r)for(const n in r)bn(e,n,r[n].default);else t==="array"&&Array.isArray(a)&&a.forEach((n,i)=>bn(e,i,n.default))}Zt.assignDefaults=Ja;function bn(e,t,r){const{gen:a,compositeRule:n,data:i,opts:u}=e;if(r===void 0)return;const p=(0,dt._)`${i}${(0,dt.getProperty)(t)}`;if(n){(0,Ga.checkStrictMode)(e,`default is ignored for: ${p}`);return}let $=(0,dt._)`${p} === undefined`;u.useDefaults==="empty"&&($=(0,dt._)`${$} || ${p} === null || ${p} === ""`),a.if($,(0,dt._)`${p} = ${(0,dt.stringify)(r)}`)}var Ae={},X={};Object.defineProperty(X,"__esModule",{value:!0}),X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;const re=W,br=ee,Be=De,Wa=ee;function Ba(e,t){const{gen:r,data:a,it:n}=e;r.if(Pr(r,a,t,n.opts.ownProperties),()=>{e.setParams({missingProperty:(0,re._)`${t}`},!0),e.error()})}X.checkReportMissingProp=Ba;function Xa({gen:e,data:t,it:{opts:r}},a,n){return(0,re.or)(...a.map(i=>(0,re.and)(Pr(e,t,i,r.ownProperties),(0,re._)`${n} = ${i}`)))}X.checkMissingProp=Xa;function Qa(e,t){e.setParams({missingProperty:t},!0),e.error()}X.reportMissingProp=Qa;function Sn(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,re._)`Object.prototype.hasOwnProperty`})}X.hasPropFunc=Sn;function Sr(e,t,r){return(0,re._)`${Sn(e)}.call(${t}, ${r})`}X.isOwnProperty=Sr;function Ya(e,t,r,a){const n=(0,re._)`${t}${(0,re.getProperty)(r)} !== undefined`;return a?(0,re._)`${n} && ${Sr(e,t,r)}`:n}X.propertyInData=Ya;function Pr(e,t,r,a){const n=(0,re._)`${t}${(0,re.getProperty)(r)} === undefined`;return a?(0,re.or)(n,(0,re.not)(Sr(e,t,r))):n}X.noPropertyInData=Pr;function Pn(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}X.allSchemaProperties=Pn;function Za(e,t){return Pn(t).filter(r=>!(0,br.alwaysValidSchema)(e,t[r]))}X.schemaProperties=Za;function xa({schemaCode:e,data:t,it:{gen:r,topSchemaRef:a,schemaPath:n,errorPath:i},it:u},p,$,f){const h=f?(0,re._)`${e}, ${t}, ${a}${n}`:t,y=[[Be.default.instancePath,(0,re.strConcat)(Be.default.instancePath,i)],[Be.default.parentData,u.parentData],[Be.default.parentDataProperty,u.parentDataProperty],[Be.default.rootData,Be.default.rootData]];u.opts.dynamicRef&&y.push([Be.default.dynamicAnchors,Be.default.dynamicAnchors]);const j=(0,re._)`${h}, ${r.object(...y)}`;return $!==re.nil?(0,re._)`${p}.call(${$}, ${j})`:(0,re._)`${p}(${j})`}X.callValidateCode=xa;const es=(0,re._)`new RegExp`;function ts({gen:e,it:{opts:t}},r){const a=t.unicodeRegExp?"u":"",{regExp:n}=t.code,i=n(r,a);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,re._)`${n.code==="new RegExp"?es:(0,Wa.useFunc)(e,n)}(${r}, ${a})`})}X.usePattern=ts;function rs(e){const{gen:t,data:r,keyword:a,it:n}=e,i=t.name("valid");if(n.allErrors){const p=t.let("valid",!0);return u(()=>t.assign(p,!1)),p}return t.var(i,!0),u(()=>t.break()),i;function u(p){const $=t.const("len",(0,re._)`${r}.length`);t.forRange("i",0,$,f=>{e.subschema({keyword:a,dataProp:f,dataPropType:br.Type.Num},i),t.if((0,re.not)(i),p)})}}X.validateArray=rs;function ns(e){const{gen:t,schema:r,keyword:a,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some($=>(0,br.alwaysValidSchema)(n,$))&&!n.opts.unevaluated)return;const u=t.let("valid",!1),p=t.name("_valid");t.block(()=>r.forEach(($,f)=>{const h=e.subschema({keyword:a,schemaProp:f,compositeRule:!0},p);t.assign(u,(0,re._)`${u} || ${p}`),e.mergeValidEvaluated(h,p)||t.if((0,re.not)(u))})),e.result(u,()=>e.reset(),()=>e.error(!0))}X.validateUnion=ns,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.validateKeywordUsage=Ae.validSchemaType=Ae.funcKeywordCode=Ae.macroKeywordCode=void 0;const we=W,et=De,as=X,ss=Ke;function os(e,t){const{gen:r,keyword:a,schema:n,parentSchema:i,it:u}=e,p=t.macro.call(u.self,n,i,u),$=On(r,a,p);u.opts.validateSchema!==!1&&u.self.validateSchema(p,!0);const f=r.name("valid");e.subschema({schema:p,schemaPath:we.nil,errSchemaPath:`${u.errSchemaPath}/${a}`,topSchemaRef:$,compositeRule:!0},f),e.pass(f,()=>e.error(!0))}Ae.macroKeywordCode=os;function is(e,t){var r;const{gen:a,keyword:n,schema:i,parentSchema:u,$data:p,it:$}=e;us($,t);const f=!p&&t.compile?t.compile.call($.self,i,u,$):t.validate,h=On(a,n,f),y=a.let("valid");e.block$data(y,j),e.ok((r=t.valid)!==null&&r!==void 0?r:y);function j(){if(t.errors===!1)E(),t.modifying&&Nn(e),v(()=>e.error());else{const m=t.async?I():P();t.modifying&&Nn(e),v(()=>cs(e,m))}}function I(){const m=a.let("ruleErrs",null);return a.try(()=>E((0,we._)`await `),O=>a.assign(y,!1).if((0,we._)`${O} instanceof ${$.ValidationError}`,()=>a.assign(m,(0,we._)`${O}.errors`),()=>a.throw(O))),m}function P(){const m=(0,we._)`${h}.errors`;return a.assign(m,null),E(we.nil),m}function E(m=t.async?(0,we._)`await `:we.nil){const O=$.opts.passContext?et.default.this:et.default.self,b=!("compile"in t&&!p||t.schema===!1);a.assign(y,(0,we._)`${m}${(0,as.callValidateCode)(e,h,O,b)}`,t.modifying)}function v(m){var O;a.if((0,we.not)((O=t.valid)!==null&&O!==void 0?O:y),m)}}Ae.funcKeywordCode=is;function Nn(e){const{gen:t,data:r,it:a}=e;t.if(a.parentData,()=>t.assign(r,(0,we._)`${a.parentData}[${a.parentDataProperty}]`))}function cs(e,t){const{gen:r}=e;r.if((0,we._)`Array.isArray(${t})`,()=>{r.assign(et.default.vErrors,(0,we._)`${et.default.vErrors} === null ? ${t} : ${et.default.vErrors}.concat(${t})`).assign(et.default.errors,(0,we._)`${et.default.vErrors}.length`),(0,ss.extendErrors)(e)},()=>e.error())}function us({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function On(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,we.stringify)(r)})}function ds(e,t,r=!1){return!t.length||t.some(a=>a==="array"?Array.isArray(e):a==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==a||r&&typeof e=="undefined")}Ae.validSchemaType=ds;function ls({schema:e,opts:t,self:r,errSchemaPath:a},n,i){if(Array.isArray(n.keyword)?!n.keyword.includes(i):n.keyword!==i)throw new Error("ajv implementation error");const u=n.dependencies;if(u!=null&&u.some(p=>!Object.prototype.hasOwnProperty.call(e,p)))throw new Error(`parent schema must have dependencies of ${i}: ${u.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[i])){const $=`keyword "${i}" value is invalid at path "${a}": `+r.errorsText(n.validateSchema.errors);if(t.validateSchema==="log")r.logger.error($);else throw new Error($)}}Ae.validateKeywordUsage=ls;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.extendSubschemaMode=Xe.extendSubschemaData=Xe.getSubschema=void 0;const Me=W,Tn=ee;function fs(e,{keyword:t,schemaProp:r,schema:a,schemaPath:n,errSchemaPath:i,topSchemaRef:u}){if(t!==void 0&&a!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const p=e.schema[t];return r===void 0?{schema:p,schemaPath:(0,Me._)`${e.schemaPath}${(0,Me.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:p[r],schemaPath:(0,Me._)`${e.schemaPath}${(0,Me.getProperty)(t)}${(0,Me.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Tn.escapeFragment)(r)}`}}if(a!==void 0){if(n===void 0||i===void 0||u===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:n,topSchemaRef:u,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Xe.getSubschema=fs;function hs(e,t,{dataProp:r,dataPropType:a,data:n,dataTypes:i,propertyName:u}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:p}=t;if(r!==void 0){const{errorPath:f,dataPathArr:h,opts:y}=t,j=p.let("data",(0,Me._)`${t.data}${(0,Me.getProperty)(r)}`,!0);$(j),e.errorPath=(0,Me.str)`${f}${(0,Tn.getErrorPath)(r,a,y.jsPropertySyntax)}`,e.parentDataProperty=(0,Me._)`${r}`,e.dataPathArr=[...h,e.parentDataProperty]}if(n!==void 0){const f=n instanceof Me.Name?n:p.let("data",n,!0);$(f),u!==void 0&&(e.propertyName=u)}i&&(e.dataTypes=i);function $(f){e.data=f,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,f]}}Xe.extendSubschemaData=hs;function ms(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:a,createErrors:n,allErrors:i}){a!==void 0&&(e.compositeRule=a),n!==void 0&&(e.createErrors=n),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}Xe.extendSubschemaMode=ms;var me={},Cn=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var a,n,i;if(Array.isArray(t)){if(a=t.length,a!=r.length)return!1;for(n=a;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),a=i.length,a!==Object.keys(r).length)return!1;for(n=a;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=a;n--!==0;){var u=i[n];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r},Rn={exports:{}},Qe=Rn.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var a=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};xt(t,a,n,e,"",e)};Qe.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},Qe.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Qe.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Qe.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function xt(e,t,r,a,n,i,u,p,$,f){if(a&&typeof a=="object"&&!Array.isArray(a)){t(a,n,i,u,p,$,f);for(var h in a){var y=a[h];if(Array.isArray(y)){if(h in Qe.arrayKeywords)for(var j=0;j<y.length;j++)xt(e,t,r,y[j],n+"/"+h+"/"+j,i,n,h,a,j)}else if(h in Qe.propsKeywords){if(y&&typeof y=="object")for(var I in y)xt(e,t,r,y[I],n+"/"+h+"/"+ps(I),i,n,h,a,I)}else(h in Qe.keywords||e.allKeys&&!(h in Qe.skipKeywords))&&xt(e,t,r,y,n+"/"+h,i,n,h,a)}r(a,n,i,u,p,$,f)}}function ps(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(me,"__esModule",{value:!0}),me.getSchemaRefs=me.resolveUrl=me.normalizeId=me._getFullPath=me.getFullPath=me.inlineRef=void 0;const $s=ee,ys=Cn,vs=Rn.exports,_s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function gs(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Nr(e):t?In(e)<=t:!1}me.inlineRef=gs;const ws=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Nr(e){for(const t in e){if(ws.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Nr)||typeof r=="object"&&Nr(r))return!0}return!1}function In(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!_s.has(r)&&(typeof e[r]=="object"&&(0,$s.eachItem)(e[r],a=>t+=In(a)),t===1/0))return 1/0}return t}function jn(e,t="",r){r!==!1&&(t=lt(t));const a=e.parse(t);return kn(e,a)}me.getFullPath=jn;function kn(e,t){return e.serialize(t).split("#")[0]+"#"}me._getFullPath=kn;const Es=/#\/?$/;function lt(e){return e?e.replace(Es,""):""}me.normalizeId=lt;function bs(e,t,r){return r=lt(r),e.resolve(t,r)}me.resolveUrl=bs;const Ss=/^[a-z_][-a-z0-9._]*$/i;function Ps(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:a}=this.opts,n=lt(e[r]||t),i={"":n},u=jn(a,n,!1),p={},$=new Set;return vs(e,{allKeys:!0},(y,j,I,P)=>{if(P===void 0)return;const E=u+j;let v=i[P];typeof y[r]=="string"&&(v=m.call(this,y[r])),O.call(this,y.$anchor),O.call(this,y.$dynamicAnchor),i[j]=v;function m(b){const C=this.opts.uriResolver.resolve;if(b=lt(v?C(v,b):b),$.has(b))throw h(b);$.add(b);let A=this.refs[b];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?f(y,A.schema,b):b!==lt(E)&&(b[0]==="#"?(f(y,p[b],b),p[b]=y):this.refs[b]=E),b}function O(b){if(typeof b=="string"){if(!Ss.test(b))throw new Error(`invalid anchor "${b}"`);m.call(this,`#${b}`)}}}),p;function f(y,j,I){if(j!==void 0&&!ys(y,j))throw h(I)}function h(y){return new Error(`reference "${y}" resolves to more than one schema`)}}me.getSchemaRefs=Ps,Object.defineProperty(ge,"__esModule",{value:!0}),ge.getData=ge.KeywordCxt=ge.validateFunctionCode=void 0;const Dn=Ee,An=Rt,Or=He,er=Rt,Ns=Zt,It=Ae,Tr=Xe,q=W,G=De,Os=me,Ge=ee,jt=Ke;function Ts(e){if(Fn(e)&&(Un(e),Vn(e))){Is(e);return}Mn(e,()=>(0,Dn.topBoolOrEmptySchema)(e))}ge.validateFunctionCode=Ts;function Mn({gen:e,validateName:t,schema:r,schemaEnv:a,opts:n},i){n.code.es5?e.func(t,(0,q._)`${G.default.data}, ${G.default.valCxt}`,a.$async,()=>{e.code((0,q._)`"use strict"; ${zn(r,n)}`),Rs(e,n),e.code(i)}):e.func(t,(0,q._)`${G.default.data}, ${Cs(n)}`,a.$async,()=>e.code(zn(r,n)).code(i))}function Cs(e){return(0,q._)`{${G.default.instancePath}="", ${G.default.parentData}, ${G.default.parentDataProperty}, ${G.default.rootData}=${G.default.data}${e.dynamicRef?(0,q._)`, ${G.default.dynamicAnchors}={}`:q.nil}}={}`}function Rs(e,t){e.if(G.default.valCxt,()=>{e.var(G.default.instancePath,(0,q._)`${G.default.valCxt}.${G.default.instancePath}`),e.var(G.default.parentData,(0,q._)`${G.default.valCxt}.${G.default.parentData}`),e.var(G.default.parentDataProperty,(0,q._)`${G.default.valCxt}.${G.default.parentDataProperty}`),e.var(G.default.rootData,(0,q._)`${G.default.valCxt}.${G.default.rootData}`),t.dynamicRef&&e.var(G.default.dynamicAnchors,(0,q._)`${G.default.valCxt}.${G.default.dynamicAnchors}`)},()=>{e.var(G.default.instancePath,(0,q._)`""`),e.var(G.default.parentData,(0,q._)`undefined`),e.var(G.default.parentDataProperty,(0,q._)`undefined`),e.var(G.default.rootData,G.default.data),t.dynamicRef&&e.var(G.default.dynamicAnchors,(0,q._)`{}`)})}function Is(e){const{schema:t,opts:r,gen:a}=e;Mn(e,()=>{r.$comment&&t.$comment&&Ln(e),Ms(e),a.let(G.default.vErrors,null),a.let(G.default.errors,0),r.unevaluated&&js(e),qn(e),Fs(e)})}function js(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,q._)`${r}.evaluated`),t.if((0,q._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,q._)`${e.evaluated}.props`,(0,q._)`undefined`)),t.if((0,q._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,q._)`${e.evaluated}.items`,(0,q._)`undefined`))}function zn(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,q._)`/*# sourceURL=${r} */`:q.nil}function ks(e,t){if(Fn(e)&&(Un(e),Vn(e))){Ds(e,t);return}(0,Dn.boolOrEmptySchema)(e,t)}function Vn({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Fn(e){return typeof e.schema!="boolean"}function Ds(e,t){const{schema:r,gen:a,opts:n}=e;n.$comment&&r.$comment&&Ln(e),zs(e),Vs(e);const i=a.const("_errs",G.default.errors);qn(e,i),a.var(t,(0,q._)`${i} === ${G.default.errors}`)}function Un(e){(0,Ge.checkUnknownRules)(e),As(e)}function qn(e,t){if(e.opts.jtd)return Kn(e,[],!1,t);const r=(0,An.getSchemaTypes)(e.schema),a=(0,An.coerceAndCheckDataType)(e,r);Kn(e,r,!a,t)}function As(e){const{schema:t,errSchemaPath:r,opts:a,self:n}=e;t.$ref&&a.ignoreKeywordsWithRef&&(0,Ge.schemaHasRulesButRef)(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Ms(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ge.checkStrictMode)(e,"default is ignored in the schema root")}function zs(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Os.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Vs(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ln({gen:e,schemaEnv:t,schema:r,errSchemaPath:a,opts:n}){const i=r.$comment;if(n.$comment===!0)e.code((0,q._)`${G.default.self}.logger.log(${i})`);else if(typeof n.$comment=="function"){const u=(0,q.str)`${a}/$comment`,p=e.scopeValue("root",{ref:t.root});e.code((0,q._)`${G.default.self}.opts.$comment(${i}, ${u}, ${p}.schema)`)}}function Fs(e){const{gen:t,schemaEnv:r,validateName:a,ValidationError:n,opts:i}=e;r.$async?t.if((0,q._)`${G.default.errors} === 0`,()=>t.return(G.default.data),()=>t.throw((0,q._)`new ${n}(${G.default.vErrors})`)):(t.assign((0,q._)`${a}.errors`,G.default.vErrors),i.unevaluated&&Us(e),t.return((0,q._)`${G.default.errors} === 0`))}function Us({gen:e,evaluated:t,props:r,items:a}){r instanceof q.Name&&e.assign((0,q._)`${t}.props`,r),a instanceof q.Name&&e.assign((0,q._)`${t}.items`,a)}function Kn(e,t,r,a){const{gen:n,schema:i,data:u,allErrors:p,opts:$,self:f}=e,{RULES:h}=f;if(i.$ref&&($.ignoreKeywordsWithRef||!(0,Ge.schemaHasRulesButRef)(i,h))){n.block(()=>Wn(e,"$ref",h.all.$ref.definition));return}$.jtd||qs(e,t),n.block(()=>{for(const j of h.rules)y(j);y(h.post)});function y(j){!(0,Or.shouldUseGroup)(i,j)||(j.type?(n.if((0,er.checkDataType)(j.type,u,$.strictNumbers)),Hn(e,j),t.length===1&&t[0]===j.type&&r&&(n.else(),(0,er.reportTypeError)(e)),n.endIf()):Hn(e,j),p||n.if((0,q._)`${G.default.errors} === ${a||0}`))}}function Hn(e,t){const{gen:r,schema:a,opts:{useDefaults:n}}=e;n&&(0,Ns.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,Or.shouldUseRule)(a,i)&&Wn(e,i.keyword,i.definition,t.type)})}function qs(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Ls(e,t),e.opts.allowUnionTypes||Ks(e,t),Hs(e,e.dataTypes))}function Ls(e,t){if(!!t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Gn(e.dataTypes,r)||Cr(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(r=>Gn(t,r))}}function Ks(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Cr(e,"use allowUnionTypes to allow union type keyword")}function Hs(e,t){const r=e.self.RULES.all;for(const a in r){const n=r[a];if(typeof n=="object"&&(0,Or.shouldUseRule)(e.schema,n)){const{type:i}=n.definition;i.length&&!i.some(u=>Gs(t,u))&&Cr(e,`missing type "${i.join(",")}" for keyword "${a}"`)}}}function Gs(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Gn(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Cr(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,Ge.checkStrictMode)(e,t,e.opts.strictTypes)}class Jn{constructor(t,r,a){if((0,It.validateKeywordUsage)(t,r,a),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=a,this.data=t.data,this.schema=t.schema[a],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ge.schemaRefOrVal)(t,this.schema,a,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Bn(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,It.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${a} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",G.default.errors))}result(t,r,a){this.failResult((0,q.not)(t),r,a)}failResult(t,r,a){this.gen.if(t),a?a():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,q.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,q._)`${r} !== undefined && (${(0,q.or)(this.invalid$data(),t)})`)}error(t,r,a){if(r){this.setParams(r),this._error(t,a),this.setParams({});return}this._error(t,a)}_error(t,r){(t?jt.reportExtraError:jt.reportError)(this,this.def.error,r)}$dataError(){(0,jt.reportError)(this,this.def.$dataError||jt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,jt.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,a=q.nil){this.gen.block(()=>{this.check$data(t,a),r()})}check$data(t=q.nil,r=q.nil){if(!this.$data)return;const{gen:a,schemaCode:n,schemaType:i,def:u}=this;a.if((0,q.or)((0,q._)`${n} === undefined`,r)),t!==q.nil&&a.assign(t,!0),(i.length||u.validateSchema)&&(a.elseIf(this.invalid$data()),this.$dataError(),t!==q.nil&&a.assign(t,!1)),a.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:a,def:n,it:i}=this;return(0,q.or)(u(),p());function u(){if(a.length){if(!(r instanceof q.Name))throw new Error("ajv implementation error");const $=Array.isArray(a)?a:[a];return(0,q._)`${(0,er.checkDataTypes)($,r,i.opts.strictNumbers,er.DataType.Wrong)}`}return q.nil}function p(){if(n.validateSchema){const $=t.scopeValue("validate$data",{ref:n.validateSchema});return(0,q._)`!${$}(${r})`}return q.nil}}subschema(t,r){const a=(0,Tr.getSubschema)(this.it,t);(0,Tr.extendSubschemaData)(a,this.it,t),(0,Tr.extendSubschemaMode)(a,t);const n=We($e($e({},this.it),a),{items:void 0,props:void 0});return ks(n,r),n}mergeEvaluated(t,r){const{it:a,gen:n}=this;!a.opts.unevaluated||(a.props!==!0&&t.props!==void 0&&(a.props=Ge.mergeEvaluated.props(n,t.props,a.props,r)),a.items!==!0&&t.items!==void 0&&(a.items=Ge.mergeEvaluated.items(n,t.items,a.items,r)))}mergeValidEvaluated(t,r){const{it:a,gen:n}=this;if(a.opts.unevaluated&&(a.props!==!0||a.items!==!0))return n.if(r,()=>this.mergeEvaluated(t,q.Name)),!0}}ge.KeywordCxt=Jn;function Wn(e,t,r,a){const n=new Jn(e,r,t);"code"in r?r.code(n,a):n.$data&&r.validate?(0,It.funcKeywordCode)(n,r):"macro"in r?(0,It.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,It.funcKeywordCode)(n,r)}const Js=/^\/(?:[^~]|~0|~1)*$/,Ws=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Bn(e,{dataLevel:t,dataNames:r,dataPathArr:a}){let n,i;if(e==="")return G.default.rootData;if(e[0]==="/"){if(!Js.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,i=G.default.rootData}else{const f=Ws.exec(e);if(!f)throw new Error(`Invalid JSON-pointer: ${e}`);const h=+f[1];if(n=f[2],n==="#"){if(h>=t)throw new Error($("property/index",h));return a[t-h]}if(h>t)throw new Error($("data",h));if(i=r[t-h],!n)return i}let u=i;const p=n.split("/");for(const f of p)f&&(i=(0,q._)`${i}${(0,q.getProperty)((0,Ge.unescapeJsonPointer)(f))}`,u=(0,q._)`${u} && ${i}`);return u;function $(f,h){return`Cannot access ${f} ${h} levels up, current level is ${t}`}}ge.getData=Bn;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});class Bs extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}tr.default=Bs;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});const Rr=me;class Xs extends Error{constructor(t,r,a,n){super(n||`can't resolve reference ${a} from id ${r}`),this.missingRef=(0,Rr.resolveUrl)(t,r,a),this.missingSchema=(0,Rr.normalizeId)((0,Rr.getFullPath)(t,this.missingRef))}}rr.default=Xs;var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.resolveSchema=be.getCompilingSchema=be.resolveRef=be.compileSchema=be.SchemaEnv=void 0;const Ie=W,Qs=tr,tt=De,je=me,Xn=ee,Ys=ge;class nr{constructor(t){var r;this.refs={},this.dynamicAnchors={};let a;typeof t.schema=="object"&&(a=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,je.normalizeId)(a==null?void 0:a[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=a==null?void 0:a.$async,this.refs={}}}be.SchemaEnv=nr;function Ir(e){const t=Qn.call(this,e);if(t)return t;const r=(0,je.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:n}=this.opts.code,{ownProperties:i}=this.opts,u=new Ie.CodeGen(this.scope,{es5:a,lines:n,ownProperties:i});let p;e.$async&&(p=u.scopeValue("Error",{ref:Qs.default,code:(0,Ie._)`require("ajv/dist/runtime/validation_error").default`}));const $=u.scopeName("validate");e.validateName=$;const f={gen:u,allErrors:this.opts.allErrors,data:tt.default.data,parentData:tt.default.parentData,parentDataProperty:tt.default.parentDataProperty,dataNames:[tt.default.data],dataPathArr:[Ie.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ie.stringify)(e.schema)}:{ref:e.schema}),validateName:$,ValidationError:p,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ie.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ie._)`""`,opts:this.opts,self:this};let h;try{this._compilations.add(e),(0,Ys.validateFunctionCode)(f),u.optimize(this.opts.code.optimize);const y=u.toString();h=`${u.scopeRefs(tt.default.scope)}return ${y}`,this.opts.code.process&&(h=this.opts.code.process(h,e));const I=new Function(`${tt.default.self}`,`${tt.default.scope}`,h)(this,this.scope.get());if(this.scope.value($,{ref:I}),I.errors=null,I.schema=e.schema,I.schemaEnv=e,e.$async&&(I.$async=!0),this.opts.code.source===!0&&(I.source={validateName:$,validateCode:y,scopeValues:u._values}),this.opts.unevaluated){const{props:P,items:E}=f;I.evaluated={props:P instanceof Ie.Name?void 0:P,items:E instanceof Ie.Name?void 0:E,dynamicProps:P instanceof Ie.Name,dynamicItems:E instanceof Ie.Name},I.source&&(I.source.evaluated=(0,Ie.stringify)(I.evaluated))}return e.validate=I,e}catch(y){throw delete e.validate,delete e.validateName,h&&this.logger.error("Error compiling schema, function code:",h),y}finally{this._compilations.delete(e)}}be.compileSchema=Ir;function Zs(e,t,r){var a;r=(0,je.resolveUrl)(this.opts.uriResolver,t,r);const n=e.refs[r];if(n)return n;let i=to.call(this,e,r);if(i===void 0){const u=(a=e.localRefs)===null||a===void 0?void 0:a[r],{schemaId:p}=this.opts;u&&(i=new nr({schema:u,schemaId:p,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=xs.call(this,i)}be.resolveRef=Zs;function xs(e){return(0,je.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ir.call(this,e)}function Qn(e){for(const t of this._compilations)if(eo(t,e))return t}be.getCompilingSchema=Qn;function eo(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function to(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ar.call(this,e,t)}function ar(e,t){const r=this.opts.uriResolver.parse(t),a=(0,je._getFullPath)(this.opts.uriResolver,r);let n=(0,je.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&a===n)return jr.call(this,r,e);const i=(0,je.normalizeId)(a),u=this.refs[i]||this.schemas[i];if(typeof u=="string"){const p=ar.call(this,e,u);return typeof(p==null?void 0:p.schema)!="object"?void 0:jr.call(this,r,p)}if(typeof(u==null?void 0:u.schema)=="object"){if(u.validate||Ir.call(this,u),i===(0,je.normalizeId)(t)){const{schema:p}=u,{schemaId:$}=this.opts,f=p[$];return f&&(n=(0,je.resolveUrl)(this.opts.uriResolver,n,f)),new nr({schema:p,schemaId:$,root:e,baseId:n})}return jr.call(this,r,u)}}be.resolveSchema=ar;const ro=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function jr(e,{baseId:t,schema:r,root:a}){var n;if(((n=e.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const p of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const $=r[(0,Xn.unescapeFragment)(p)];if($===void 0)return;r=$;const f=typeof r=="object"&&r[this.opts.schemaId];!ro.has(p)&&f&&(t=(0,je.resolveUrl)(this.opts.uriResolver,t,f))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Xn.schemaHasRulesButRef)(r,this.RULES)){const p=(0,je.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=ar.call(this,a,p)}const{schemaId:u}=this.opts;if(i=i||new nr({schema:r,schemaId:u,root:a,baseId:t}),i.schema!==i.root.schema)return i}var no={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},kr={},Dr={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,a){a(t)})(ye,function(r){function a(){for(var c=arguments.length,o=Array(c),l=0;l<c;l++)o[l]=arguments[l];if(o.length>1){o[0]=o[0].slice(0,-1);for(var N=o.length-1,S=1;S<N;++S)o[S]=o[S].slice(1,-1);return o[N]=o[N].slice(1),o.join("")}else return o[0]}function n(c){return"(?:"+c+")"}function i(c){return c===void 0?"undefined":c===null?"null":Object.prototype.toString.call(c).split(" ").pop().split("]").shift().toLowerCase()}function u(c){return c.toUpperCase()}function p(c){return c!=null?c instanceof Array?c:typeof c.length!="number"||c.split||c.setInterval||c.call?[c]:Array.prototype.slice.call(c):[]}function $(c,o){var l=c;if(o)for(var N in o)l[N]=o[N];return l}function f(c){var o="[A-Za-z]",l="[0-9]",N=a(l,"[A-Fa-f]"),S=n(n("%[EFef]"+N+"%"+N+N+"%"+N+N)+"|"+n("%[89A-Fa-f]"+N+"%"+N+N)+"|"+n("%"+N+N)),L="[\\:\\/\\?\\#\\[\\]\\@]",K="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",x=a(L,K),ae=c?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ue=c?"[\\uE000-\\uF8FF]":"[]",Y=a(o,l,"[\\-\\.\\_\\~]",ae);n(o+a(o,l,"[\\+\\-\\.]")+"*"),n(n(S+"|"+a(Y,K,"[\\:]"))+"*");var te=n(n("25[0-5]")+"|"+n("2[0-4]"+l)+"|"+n("1"+l+l)+"|"+n("0?[1-9]"+l)+"|0?0?"+l),de=n(te+"\\."+te+"\\."+te+"\\."+te),J=n(N+"{1,4}"),se=n(n(J+"\\:"+J)+"|"+de),fe=n(n(J+"\\:")+"{6}"+se),oe=n("\\:\\:"+n(J+"\\:")+"{5}"+se),Ze=n(n(J)+"?\\:\\:"+n(J+"\\:")+"{4}"+se),Ue=n(n(n(J+"\\:")+"{0,1}"+J)+"?\\:\\:"+n(J+"\\:")+"{3}"+se),qe=n(n(n(J+"\\:")+"{0,2}"+J)+"?\\:\\:"+n(J+"\\:")+"{2}"+se),Pt=n(n(n(J+"\\:")+"{0,3}"+J)+"?\\:\\:"+J+"\\:"+se),ct=n(n(n(J+"\\:")+"{0,4}"+J)+"?\\:\\:"+se),Re=n(n(n(J+"\\:")+"{0,5}"+J)+"?\\:\\:"+J),Le=n(n(n(J+"\\:")+"{0,6}"+J)+"?\\:\\:"),ut=n([fe,oe,Ze,Ue,qe,Pt,ct,Re,Le].join("|")),Je=n(n(Y+"|"+S)+"+");n("[vV]"+N+"+\\."+a(Y,K,"[\\:]")+"+"),n(n(S+"|"+a(Y,K))+"*");var Bt=n(S+"|"+a(Y,K,"[\\:\\@]"));return n(n(S+"|"+a(Y,K,"[\\@]"))+"+"),n(n(Bt+"|"+a("[\\/\\?]",ue))+"*"),{NOT_SCHEME:new RegExp(a("[^]",o,l,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",Y,K),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",Y,K),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",Y,K),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",Y,K),"g"),NOT_QUERY:new RegExp(a("[^\\%]",Y,K,"[\\:\\@\\/\\?]",ue),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",Y,K,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",Y,K),"g"),UNRESERVED:new RegExp(Y,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",Y,x),"g"),PCT_ENCODED:new RegExp(S,"g"),IPV4ADDRESS:new RegExp("^("+de+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ut+")"+n(n("\\%25|\\%(?!"+N+"{2})")+"("+Je+")")+"?\\]?$")}}var h=f(!1),y=f(!0),j=function(){function c(o,l){var N=[],S=!0,L=!1,K=void 0;try{for(var x=o[Symbol.iterator](),ae;!(S=(ae=x.next()).done)&&(N.push(ae.value),!(l&&N.length===l));S=!0);}catch(ue){L=!0,K=ue}finally{try{!S&&x.return&&x.return()}finally{if(L)throw K}}return N}return function(o,l){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return c(o,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=function(c){if(Array.isArray(c)){for(var o=0,l=Array(c.length);o<c.length;o++)l[o]=c[o];return l}else return Array.from(c)},P=2147483647,E=36,v=1,m=26,O=38,b=700,C=72,A=128,g="-",T=/^xn--/,D=/[^\0-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=E-v,H=Math.floor,le=String.fromCharCode;function ne(c){throw new RangeError(U[c])}function Te(c,o){for(var l=[],N=c.length;N--;)l[N]=o(c[N]);return l}function st(c,o){var l=c.split("@"),N="";l.length>1&&(N=l[0]+"@",c=l[1]),c=c.replace(M,".");var S=c.split("."),L=Te(S,o).join(".");return N+L}function yt(c){for(var o=[],l=0,N=c.length;l<N;){var S=c.charCodeAt(l++);if(S>=55296&&S<=56319&&l<N){var L=c.charCodeAt(l++);(L&64512)==56320?o.push(((S&1023)<<10)+(L&1023)+65536):(o.push(S),l--)}else o.push(S)}return o}var Ut=function(o){return String.fromCodePoint.apply(String,I(o))},vt=function(o){return o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:E},z=function(o,l){return o+22+75*(o<26)-((l!=0)<<5)},_=function(o,l,N){var S=0;for(o=N?H(o/b):o>>1,o+=H(o/l);o>B*m>>1;S+=E)o=H(o/B);return H(S+(B+1)*o/(o+O))},k=function(o){var l=[],N=o.length,S=0,L=A,K=C,x=o.lastIndexOf(g);x<0&&(x=0);for(var ae=0;ae<x;++ae)o.charCodeAt(ae)>=128&&ne("not-basic"),l.push(o.charCodeAt(ae));for(var ue=x>0?x+1:0;ue<N;){for(var Y=S,te=1,de=E;;de+=E){ue>=N&&ne("invalid-input");var J=vt(o.charCodeAt(ue++));(J>=E||J>H((P-S)/te))&&ne("overflow"),S+=J*te;var se=de<=K?v:de>=K+m?m:de-K;if(J<se)break;var fe=E-se;te>H(P/fe)&&ne("overflow"),te*=fe}var oe=l.length+1;K=_(S-Y,oe,Y==0),H(S/oe)>P-L&&ne("overflow"),L+=H(S/oe),S%=oe,l.splice(S++,0,L)}return String.fromCodePoint.apply(String,l)},w=function(o){var l=[];o=yt(o);var N=o.length,S=A,L=0,K=C,x=!0,ae=!1,ue=void 0;try{for(var Y=o[Symbol.iterator](),te;!(x=(te=Y.next()).done);x=!0){var de=te.value;de<128&&l.push(le(de))}}catch(Xt){ae=!0,ue=Xt}finally{try{!x&&Y.return&&Y.return()}finally{if(ae)throw ue}}var J=l.length,se=J;for(J&&l.push(g);se<N;){var fe=P,oe=!0,Ze=!1,Ue=void 0;try{for(var qe=o[Symbol.iterator](),Pt;!(oe=(Pt=qe.next()).done);oe=!0){var ct=Pt.value;ct>=S&&ct<fe&&(fe=ct)}}catch(Xt){Ze=!0,Ue=Xt}finally{try{!oe&&qe.return&&qe.return()}finally{if(Ze)throw Ue}}var Re=se+1;fe-S>H((P-L)/Re)&&ne("overflow"),L+=(fe-S)*Re,S=fe;var Le=!0,ut=!1,Je=void 0;try{for(var Bt=o[Symbol.iterator](),Oa;!(Le=(Oa=Bt.next()).done);Le=!0){var Ta=Oa.value;if(Ta<S&&++L>P&&ne("overflow"),Ta==S){for(var _r=L,gr=E;;gr+=E){var wr=gr<=K?v:gr>=K+m?m:gr-K;if(_r<wr)break;var Ca=_r-wr,Ra=E-wr;l.push(le(z(wr+Ca%Ra,0))),_r=H(Ca/Ra)}l.push(le(z(_r,0))),K=_(L,Re,se==J),L=0,++se}}}catch(Xt){ut=!0,Je=Xt}finally{try{!Le&&Bt.return&&Bt.return()}finally{if(ut)throw Je}}++L,++S}return l.join("")},s=function(o){return st(o,function(l){return T.test(l)?k(l.slice(4).toLowerCase()):l})},d=function(o){return st(o,function(l){return D.test(l)?"xn--"+w(l):l})},R={version:"2.1.0",ucs2:{decode:yt,encode:Ut},decode:k,encode:w,toASCII:d,toUnicode:s},V={};function F(c){var o=c.charCodeAt(0),l=void 0;return o<16?l="%0"+o.toString(16).toUpperCase():o<128?l="%"+o.toString(16).toUpperCase():o<2048?l="%"+(o>>6|192).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase():l="%"+(o>>12|224).toString(16).toUpperCase()+"%"+(o>>6&63|128).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase(),l}function Q(c){for(var o="",l=0,N=c.length;l<N;){var S=parseInt(c.substr(l+1,2),16);if(S<128)o+=String.fromCharCode(S),l+=3;else if(S>=194&&S<224){if(N-l>=6){var L=parseInt(c.substr(l+4,2),16);o+=String.fromCharCode((S&31)<<6|L&63)}else o+=c.substr(l,6);l+=6}else if(S>=224){if(N-l>=9){var K=parseInt(c.substr(l+4,2),16),x=parseInt(c.substr(l+7,2),16);o+=String.fromCharCode((S&15)<<12|(K&63)<<6|x&63)}else o+=c.substr(l,9);l+=9}else o+=c.substr(l,3),l+=3}return o}function Z(c,o){function l(N){var S=Q(N);return S.match(o.UNRESERVED)?S:N}return c.scheme&&(c.scheme=String(c.scheme).replace(o.PCT_ENCODED,l).toLowerCase().replace(o.NOT_SCHEME,"")),c.userinfo!==void 0&&(c.userinfo=String(c.userinfo).replace(o.PCT_ENCODED,l).replace(o.NOT_USERINFO,F).replace(o.PCT_ENCODED,u)),c.host!==void 0&&(c.host=String(c.host).replace(o.PCT_ENCODED,l).toLowerCase().replace(o.NOT_HOST,F).replace(o.PCT_ENCODED,u)),c.path!==void 0&&(c.path=String(c.path).replace(o.PCT_ENCODED,l).replace(c.scheme?o.NOT_PATH:o.NOT_PATH_NOSCHEME,F).replace(o.PCT_ENCODED,u)),c.query!==void 0&&(c.query=String(c.query).replace(o.PCT_ENCODED,l).replace(o.NOT_QUERY,F).replace(o.PCT_ENCODED,u)),c.fragment!==void 0&&(c.fragment=String(c.fragment).replace(o.PCT_ENCODED,l).replace(o.NOT_FRAGMENT,F).replace(o.PCT_ENCODED,u)),c}function ie(c){return c.replace(/^0*(.*)/,"$1")||"0"}function ze(c,o){var l=c.match(o.IPV4ADDRESS)||[],N=j(l,2),S=N[1];return S?S.split(".").map(ie).join("."):c}function _t(c,o){var l=c.match(o.IPV6ADDRESS)||[],N=j(l,3),S=N[1],L=N[2];if(S){for(var K=S.toLowerCase().split("::").reverse(),x=j(K,2),ae=x[0],ue=x[1],Y=ue?ue.split(":").map(ie):[],te=ae.split(":").map(ie),de=o.IPV4ADDRESS.test(te[te.length-1]),J=de?7:8,se=te.length-J,fe=Array(J),oe=0;oe<J;++oe)fe[oe]=Y[oe]||te[se+oe]||"";de&&(fe[J-1]=ze(fe[J-1],o));var Ze=fe.reduce(function(Re,Le,ut){if(!Le||Le==="0"){var Je=Re[Re.length-1];Je&&Je.index+Je.length===ut?Je.length++:Re.push({index:ut,length:1})}return Re},[]),Ue=Ze.sort(function(Re,Le){return Le.length-Re.length})[0],qe=void 0;if(Ue&&Ue.length>1){var Pt=fe.slice(0,Ue.index),ct=fe.slice(Ue.index+Ue.length);qe=Pt.join(":")+"::"+ct.join(":")}else qe=fe.join(":");return L&&(qe+="%"+L),qe}else return c}var qt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Lt="".match(/(){0}/)[1]===void 0;function Ne(c){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l={},N=o.iri!==!1?y:h;o.reference==="suffix"&&(c=(o.scheme?o.scheme+":":"")+"//"+c);var S=c.match(qt);if(S){Lt?(l.scheme=S[1],l.userinfo=S[3],l.host=S[4],l.port=parseInt(S[5],10),l.path=S[6]||"",l.query=S[7],l.fragment=S[8],isNaN(l.port)&&(l.port=S[5])):(l.scheme=S[1]||void 0,l.userinfo=c.indexOf("@")!==-1?S[3]:void 0,l.host=c.indexOf("//")!==-1?S[4]:void 0,l.port=parseInt(S[5],10),l.path=S[6]||"",l.query=c.indexOf("?")!==-1?S[7]:void 0,l.fragment=c.indexOf("#")!==-1?S[8]:void 0,isNaN(l.port)&&(l.port=c.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?S[4]:void 0)),l.host&&(l.host=_t(ze(l.host,N),N)),l.scheme===void 0&&l.userinfo===void 0&&l.host===void 0&&l.port===void 0&&!l.path&&l.query===void 0?l.reference="same-document":l.scheme===void 0?l.reference="relative":l.fragment===void 0?l.reference="absolute":l.reference="uri",o.reference&&o.reference!=="suffix"&&o.reference!==l.reference&&(l.error=l.error||"URI is not a "+o.reference+" reference.");var L=V[(o.scheme||l.scheme||"").toLowerCase()];if(!o.unicodeSupport&&(!L||!L.unicodeSupport)){if(l.host&&(o.domainHost||L&&L.domainHost))try{l.host=R.toASCII(l.host.replace(N.PCT_ENCODED,Q).toLowerCase())}catch(K){l.error=l.error||"Host's domain name can not be converted to ASCII via punycode: "+K}Z(l,h)}else Z(l,N);L&&L.parse&&L.parse(l,o)}else l.error=l.error||"URI can not be parsed.";return l}function Kt(c,o){var l=o.iri!==!1?y:h,N=[];return c.userinfo!==void 0&&(N.push(c.userinfo),N.push("@")),c.host!==void 0&&N.push(_t(ze(String(c.host),l),l).replace(l.IPV6ADDRESS,function(S,L,K){return"["+L+(K?"%25"+K:"")+"]"})),(typeof c.port=="number"||typeof c.port=="string")&&(N.push(":"),N.push(String(c.port))),N.length?N.join(""):void 0}var gt=/^\.\.?\//,wt=/^\/\.(\/|$)/,Et=/^\/\.\.(\/|$)/,Ht=/^\/?(?:.|\n)*?(?=\/|$)/;function Ve(c){for(var o=[];c.length;)if(c.match(gt))c=c.replace(gt,"");else if(c.match(wt))c=c.replace(wt,"/");else if(c.match(Et))c=c.replace(Et,"/"),o.pop();else if(c==="."||c==="..")c="";else{var l=c.match(Ht);if(l){var N=l[0];c=c.slice(N.length),o.push(N)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function Pe(c){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.iri?y:h,N=[],S=V[(o.scheme||c.scheme||"").toLowerCase()];if(S&&S.serialize&&S.serialize(c,o),c.host&&!l.IPV6ADDRESS.test(c.host)){if(o.domainHost||S&&S.domainHost)try{c.host=o.iri?R.toUnicode(c.host):R.toASCII(c.host.replace(l.PCT_ENCODED,Q).toLowerCase())}catch(x){c.error=c.error||"Host's domain name can not be converted to "+(o.iri?"Unicode":"ASCII")+" via punycode: "+x}}Z(c,l),o.reference!=="suffix"&&c.scheme&&(N.push(c.scheme),N.push(":"));var L=Kt(c,o);if(L!==void 0&&(o.reference!=="suffix"&&N.push("//"),N.push(L),c.path&&c.path.charAt(0)!=="/"&&N.push("/")),c.path!==void 0){var K=c.path;!o.absolutePath&&(!S||!S.absolutePath)&&(K=Ve(K)),L===void 0&&(K=K.replace(/^\/\//,"/%2F")),N.push(K)}return c.query!==void 0&&(N.push("?"),N.push(c.query)),c.fragment!==void 0&&(N.push("#"),N.push(c.fragment)),N.join("")}function bt(c,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},N=arguments[3],S={};return N||(c=Ne(Pe(c,l),l),o=Ne(Pe(o,l),l)),l=l||{},!l.tolerant&&o.scheme?(S.scheme=o.scheme,S.userinfo=o.userinfo,S.host=o.host,S.port=o.port,S.path=Ve(o.path||""),S.query=o.query):(o.userinfo!==void 0||o.host!==void 0||o.port!==void 0?(S.userinfo=o.userinfo,S.host=o.host,S.port=o.port,S.path=Ve(o.path||""),S.query=o.query):(o.path?(o.path.charAt(0)==="/"?S.path=Ve(o.path):((c.userinfo!==void 0||c.host!==void 0||c.port!==void 0)&&!c.path?S.path="/"+o.path:c.path?S.path=c.path.slice(0,c.path.lastIndexOf("/")+1)+o.path:S.path=o.path,S.path=Ve(S.path)),S.query=o.query):(S.path=c.path,o.query!==void 0?S.query=o.query:S.query=c.query),S.userinfo=c.userinfo,S.host=c.host,S.port=c.port),S.scheme=c.scheme),S.fragment=o.fragment,S}function Gt(c,o,l){var N=$({scheme:"null"},l);return Pe(bt(Ne(c,N),Ne(o,N),N,!0),N)}function ot(c,o){return typeof c=="string"?c=Pe(Ne(c,o),o):i(c)==="object"&&(c=Ne(Pe(c,o),o)),c}function Jt(c,o,l){return typeof c=="string"?c=Pe(Ne(c,l),l):i(c)==="object"&&(c=Pe(c,l)),typeof o=="string"?o=Pe(Ne(o,l),l):i(o)==="object"&&(o=Pe(o,l)),c===o}function vr(c,o){return c&&c.toString().replace(!o||!o.iri?h.ESCAPE:y.ESCAPE,F)}function Ce(c,o){return c&&c.toString().replace(!o||!o.iri?h.PCT_ENCODED:y.PCT_ENCODED,Q)}var it={scheme:"http",domainHost:!0,parse:function(o,l){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o},serialize:function(o,l){var N=String(o.scheme).toLowerCase()==="https";return(o.port===(N?443:80)||o.port==="")&&(o.port=void 0),o.path||(o.path="/"),o}},_a={scheme:"https",domainHost:it.domainHost,parse:it.parse,serialize:it.serialize};function ga(c){return typeof c.secure=="boolean"?c.secure:String(c.scheme).toLowerCase()==="wss"}var Wt={scheme:"ws",domainHost:!0,parse:function(o,l){var N=o;return N.secure=ga(N),N.resourceName=(N.path||"/")+(N.query?"?"+N.query:""),N.path=void 0,N.query=void 0,N},serialize:function(o,l){if((o.port===(ga(o)?443:80)||o.port==="")&&(o.port=void 0),typeof o.secure=="boolean"&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){var N=o.resourceName.split("?"),S=j(N,2),L=S[0],K=S[1];o.path=L&&L!=="/"?L:void 0,o.query=K,o.resourceName=void 0}return o.fragment=void 0,o}},wa={scheme:"wss",domainHost:Wt.domainHost,parse:Wt.parse,serialize:Wt.serialize},Ki={},Ea="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Fe="[0-9A-Fa-f]",Hi=n(n("%[EFef]"+Fe+"%"+Fe+Fe+"%"+Fe+Fe)+"|"+n("%[89A-Fa-f]"+Fe+"%"+Fe+Fe)+"|"+n("%"+Fe+Fe)),Gi="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ji="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Wi=a(Ji,'[\\"\\\\]'),Bi="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Xi=new RegExp(Ea,"g"),St=new RegExp(Hi,"g"),Qi=new RegExp(a("[^]",Gi,"[\\.]",'[\\"]',Wi),"g"),ba=new RegExp(a("[^]",Ea,Bi),"g"),Yi=ba;function vn(c){var o=Q(c);return o.match(Xi)?o:c}var Sa={scheme:"mailto",parse:function(o,l){var N=o,S=N.to=N.path?N.path.split(","):[];if(N.path=void 0,N.query){for(var L=!1,K={},x=N.query.split("&"),ae=0,ue=x.length;ae<ue;++ae){var Y=x[ae].split("=");switch(Y[0]){case"to":for(var te=Y[1].split(","),de=0,J=te.length;de<J;++de)S.push(te[de]);break;case"subject":N.subject=Ce(Y[1],l);break;case"body":N.body=Ce(Y[1],l);break;default:L=!0,K[Ce(Y[0],l)]=Ce(Y[1],l);break}}L&&(N.headers=K)}N.query=void 0;for(var se=0,fe=S.length;se<fe;++se){var oe=S[se].split("@");if(oe[0]=Ce(oe[0]),l.unicodeSupport)oe[1]=Ce(oe[1],l).toLowerCase();else try{oe[1]=R.toASCII(Ce(oe[1],l).toLowerCase())}catch(Ze){N.error=N.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ze}S[se]=oe.join("@")}return N},serialize:function(o,l){var N=o,S=p(o.to);if(S){for(var L=0,K=S.length;L<K;++L){var x=String(S[L]),ae=x.lastIndexOf("@"),ue=x.slice(0,ae).replace(St,vn).replace(St,u).replace(Qi,F),Y=x.slice(ae+1);try{Y=l.iri?R.toUnicode(Y):R.toASCII(Ce(Y,l).toLowerCase())}catch(se){N.error=N.error||"Email address's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+se}S[L]=ue+"@"+Y}N.path=S.join(",")}var te=o.headers=o.headers||{};o.subject&&(te.subject=o.subject),o.body&&(te.body=o.body);var de=[];for(var J in te)te[J]!==Ki[J]&&de.push(J.replace(St,vn).replace(St,u).replace(ba,F)+"="+te[J].replace(St,vn).replace(St,u).replace(Yi,F));return de.length&&(N.query=de.join("&")),N}},Zi=/^([^\:]+)\:(.*)/,Pa={scheme:"urn",parse:function(o,l){var N=o.path&&o.path.match(Zi),S=o;if(N){var L=l.scheme||S.scheme||"urn",K=N[1].toLowerCase(),x=N[2],ae=L+":"+(l.nid||K),ue=V[ae];S.nid=K,S.nss=x,S.path=void 0,ue&&(S=ue.parse(S,l))}else S.error=S.error||"URN can not be parsed.";return S},serialize:function(o,l){var N=l.scheme||o.scheme||"urn",S=o.nid,L=N+":"+(l.nid||S),K=V[L];K&&(o=K.serialize(o,l));var x=o,ae=o.nss;return x.path=(S||l.nid)+":"+ae,x}},xi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Na={scheme:"urn:uuid",parse:function(o,l){var N=o;return N.uuid=N.nss,N.nss=void 0,!l.tolerant&&(!N.uuid||!N.uuid.match(xi))&&(N.error=N.error||"UUID is not valid."),N},serialize:function(o,l){var N=o;return N.nss=(o.uuid||"").toLowerCase(),N}};V[it.scheme]=it,V[_a.scheme]=_a,V[Wt.scheme]=Wt,V[wa.scheme]=wa,V[Sa.scheme]=Sa,V[Pa.scheme]=Pa,V[Na.scheme]=Na,r.SCHEMES=V,r.pctEncChar=F,r.pctDecChars=Q,r.parse=Ne,r.removeDotSegments=Ve,r.serialize=Pe,r.resolveComponents=bt,r.resolve=Gt,r.normalize=ot,r.equal=Jt,r.escapeComponent=vr,r.unescapeComponent=Ce,Object.defineProperty(r,"__esModule",{value:!0})})})(Dr,Dr.exports),Object.defineProperty(kr,"__esModule",{value:!0});const Yn=Dr.exports;Yn.code='require("ajv/dist/runtime/uri").default',kr.default=Yn,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ge;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=W;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const a=tr,n=rr,i=xe,u=be,p=W,$=me,f=Rt,h=ee,y=no,j=kr,I=(z,_)=>new RegExp(z,_);I.code="new RegExp";const P=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},O=200;function b(z){var _,k,w,s,d,R,V,F,Q,Z,ie,ze,_t,qt,Lt,Ne,Kt,gt,wt,Et,Ht,Ve,Pe,bt,Gt;const ot=z.strict,Jt=(_=z.code)===null||_===void 0?void 0:_.optimize,vr=Jt===!0||Jt===void 0?1:Jt||0,Ce=(w=(k=z.code)===null||k===void 0?void 0:k.regExp)!==null&&w!==void 0?w:I,it=(s=z.uriResolver)!==null&&s!==void 0?s:j.default;return{strictSchema:(R=(d=z.strictSchema)!==null&&d!==void 0?d:ot)!==null&&R!==void 0?R:!0,strictNumbers:(F=(V=z.strictNumbers)!==null&&V!==void 0?V:ot)!==null&&F!==void 0?F:!0,strictTypes:(Z=(Q=z.strictTypes)!==null&&Q!==void 0?Q:ot)!==null&&Z!==void 0?Z:"log",strictTuples:(ze=(ie=z.strictTuples)!==null&&ie!==void 0?ie:ot)!==null&&ze!==void 0?ze:"log",strictRequired:(qt=(_t=z.strictRequired)!==null&&_t!==void 0?_t:ot)!==null&&qt!==void 0?qt:!1,code:z.code?We($e({},z.code),{optimize:vr,regExp:Ce}):{optimize:vr,regExp:Ce},loopRequired:(Lt=z.loopRequired)!==null&&Lt!==void 0?Lt:O,loopEnum:(Ne=z.loopEnum)!==null&&Ne!==void 0?Ne:O,meta:(Kt=z.meta)!==null&&Kt!==void 0?Kt:!0,messages:(gt=z.messages)!==null&&gt!==void 0?gt:!0,inlineRefs:(wt=z.inlineRefs)!==null&&wt!==void 0?wt:!0,schemaId:(Et=z.schemaId)!==null&&Et!==void 0?Et:"$id",addUsedSchema:(Ht=z.addUsedSchema)!==null&&Ht!==void 0?Ht:!0,validateSchema:(Ve=z.validateSchema)!==null&&Ve!==void 0?Ve:!0,validateFormats:(Pe=z.validateFormats)!==null&&Pe!==void 0?Pe:!0,unicodeRegExp:(bt=z.unicodeRegExp)!==null&&bt!==void 0?bt:!0,int32range:(Gt=z.int32range)!==null&&Gt!==void 0?Gt:!0,uriResolver:it}}class C{constructor(_={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,_=this.opts=$e($e({},_),b(_));const{es5:k,lines:w}=this.opts.code;this.scope=new p.ValueScope({scope:{},prefixes:E,es5:k,lines:w}),this.logger=H(_.logger);const s=_.validateFormats;_.validateFormats=!1,this.RULES=(0,i.getRules)(),A.call(this,v,_,"NOT SUPPORTED"),A.call(this,m,_,"DEPRECATED","warn"),this._metaOpts=U.call(this),_.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),_.keywords&&M.call(this,_.keywords),typeof _.meta=="object"&&this.addMetaSchema(_.meta),T.call(this),_.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:_,meta:k,schemaId:w}=this.opts;let s=y;w==="id"&&(s=$e({},y),s.id=s.$id,delete s.$id),k&&_&&this.addMetaSchema(s,s[w],!1)}defaultMeta(){const{meta:_,schemaId:k}=this.opts;return this.opts.defaultMeta=typeof _=="object"?_[k]||_:void 0}validate(_,k){let w;if(typeof _=="string"){if(w=this.getSchema(_),!w)throw new Error(`no schema with key or ref "${_}"`)}else w=this.compile(_);const s=w(k);return"$async"in w||(this.errors=w.errors),s}compile(_,k){const w=this._addSchema(_,k);return w.validate||this._compileSchemaEnv(w)}compileAsync(_,k){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:w}=this.opts;return s.call(this,_,k);function s(Z,ie){return Nt(this,null,function*(){yield d.call(this,Z.$schema);const ze=this._addSchema(Z,ie);return ze.validate||R.call(this,ze)})}function d(Z){return Nt(this,null,function*(){Z&&!this.getSchema(Z)&&(yield s.call(this,{$ref:Z},!0))})}function R(Z){return Nt(this,null,function*(){try{return this._compileSchemaEnv(Z)}catch(ie){if(!(ie instanceof n.default))throw ie;return V.call(this,ie),yield F.call(this,ie.missingSchema),R.call(this,Z)}})}function V({missingSchema:Z,missingRef:ie}){if(this.refs[Z])throw new Error(`AnySchema ${Z} is loaded but ${ie} cannot be resolved`)}function F(Z){return Nt(this,null,function*(){const ie=yield Q.call(this,Z);this.refs[Z]||(yield d.call(this,ie.$schema)),this.refs[Z]||this.addSchema(ie,Z,k)})}function Q(Z){return Nt(this,null,function*(){const ie=this._loading[Z];if(ie)return ie;try{return yield this._loading[Z]=w(Z)}finally{delete this._loading[Z]}})}}addSchema(_,k,w,s=this.opts.validateSchema){if(Array.isArray(_)){for(const R of _)this.addSchema(R,void 0,w,s);return this}let d;if(typeof _=="object"){const{schemaId:R}=this.opts;if(d=_[R],d!==void 0&&typeof d!="string")throw new Error(`schema ${R} must be string`)}return k=(0,$.normalizeId)(k||d),this._checkUnique(k),this.schemas[k]=this._addSchema(_,w,k,s,!0),this}addMetaSchema(_,k,w=this.opts.validateSchema){return this.addSchema(_,k,!0,w),this}validateSchema(_,k){if(typeof _=="boolean")return!0;let w;if(w=_.$schema,w!==void 0&&typeof w!="string")throw new Error("$schema must be a string");if(w=w||this.opts.defaultMeta||this.defaultMeta(),!w)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(w,_);if(!s&&k){const d="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(d);else throw new Error(d)}return s}getSchema(_){let k;for(;typeof(k=g.call(this,_))=="string";)_=k;if(k===void 0){const{schemaId:w}=this.opts,s=new u.SchemaEnv({schema:{},schemaId:w});if(k=u.resolveSchema.call(this,s,_),!k)return;this.refs[_]=k}return k.validate||this._compileSchemaEnv(k)}removeSchema(_){if(_ instanceof RegExp)return this._removeAllSchemas(this.schemas,_),this._removeAllSchemas(this.refs,_),this;switch(typeof _){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const k=g.call(this,_);return typeof k=="object"&&this._cache.delete(k.schema),delete this.schemas[_],delete this.refs[_],this}case"object":{const k=_;this._cache.delete(k);let w=_[this.opts.schemaId];return w&&(w=(0,$.normalizeId)(w),delete this.schemas[w],delete this.refs[w]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(_){for(const k of _)this.addKeyword(k);return this}addKeyword(_,k){let w;if(typeof _=="string")w=_,typeof k=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),k.keyword=w);else if(typeof _=="object"&&k===void 0){if(k=_,w=k.keyword,Array.isArray(w)&&!w.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ne.call(this,w,k),!k)return(0,h.eachItem)(w,d=>Te.call(this,d)),this;yt.call(this,k);const s=We($e({},k),{type:(0,f.getJSONTypes)(k.type),schemaType:(0,f.getJSONTypes)(k.schemaType)});return(0,h.eachItem)(w,s.type.length===0?d=>Te.call(this,d,s):d=>s.type.forEach(R=>Te.call(this,d,s,R))),this}getKeyword(_){const k=this.RULES.all[_];return typeof k=="object"?k.definition:!!k}removeKeyword(_){const{RULES:k}=this;delete k.keywords[_],delete k.all[_];for(const w of k.rules){const s=w.rules.findIndex(d=>d.keyword===_);s>=0&&w.rules.splice(s,1)}return this}addFormat(_,k){return typeof k=="string"&&(k=new RegExp(k)),this.formats[_]=k,this}errorsText(_=this.errors,{separator:k=", ",dataVar:w="data"}={}){return!_||_.length===0?"No errors":_.map(s=>`${w}${s.instancePath} ${s.message}`).reduce((s,d)=>s+k+d)}$dataMetaSchema(_,k){const w=this.RULES.all;_=JSON.parse(JSON.stringify(_));for(const s of k){const d=s.split("/").slice(1);let R=_;for(const V of d)R=R[V];for(const V in w){const F=w[V];if(typeof F!="object")continue;const{$data:Q}=F.definition,Z=R[V];Q&&Z&&(R[V]=vt(Z))}}return _}_removeAllSchemas(_,k){for(const w in _){const s=_[w];(!k||k.test(w))&&(typeof s=="string"?delete _[w]:s&&!s.meta&&(this._cache.delete(s.schema),delete _[w]))}}_addSchema(_,k,w,s=this.opts.validateSchema,d=this.opts.addUsedSchema){let R;const{schemaId:V}=this.opts;if(typeof _=="object")R=_[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof _!="boolean")throw new Error("schema must be object or boolean")}let F=this._cache.get(_);if(F!==void 0)return F;w=(0,$.normalizeId)(R||w);const Q=$.getSchemaRefs.call(this,_,w);return F=new u.SchemaEnv({schema:_,schemaId:V,meta:k,baseId:w,localRefs:Q}),this._cache.set(F.schema,F),d&&!w.startsWith("#")&&(w&&this._checkUnique(w),this.refs[w]=F),s&&this.validateSchema(_,!0),F}_checkUnique(_){if(this.schemas[_]||this.refs[_])throw new Error(`schema with key or id "${_}" already exists`)}_compileSchemaEnv(_){if(_.meta?this._compileMetaSchema(_):u.compileSchema.call(this,_),!_.validate)throw new Error("ajv implementation error");return _.validate}_compileMetaSchema(_){const k=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,_)}finally{this.opts=k}}}e.default=C,C.ValidationError=a.default,C.MissingRefError=n.default;function A(z,_,k,w="error"){for(const s in z){const d=s;d in _&&this.logger[w](`${k}: option ${s}. ${z[d]}`)}}function g(z){return z=(0,$.normalizeId)(z),this.schemas[z]||this.refs[z]}function T(){const z=this.opts.schemas;if(!!z)if(Array.isArray(z))this.addSchema(z);else for(const _ in z)this.addSchema(z[_],_)}function D(){for(const z in this.opts.formats){const _=this.opts.formats[z];_&&this.addFormat(z,_)}}function M(z){if(Array.isArray(z)){this.addVocabulary(z);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const _ in z){const k=z[_];k.keyword||(k.keyword=_),this.addKeyword(k)}}function U(){const z=$e({},this.opts);for(const _ of P)delete z[_];return z}const B={log(){},warn(){},error(){}};function H(z){if(z===!1)return B;if(z===void 0)return console;if(z.log&&z.warn&&z.error)return z;throw new Error("logger must implement log, warn and error methods")}const le=/^[a-z_$][a-z0-9_$:-]*$/i;function ne(z,_){const{RULES:k}=this;if((0,h.eachItem)(z,w=>{if(k.keywords[w])throw new Error(`Keyword ${w} is already defined`);if(!le.test(w))throw new Error(`Keyword ${w} has invalid name`)}),!!_&&_.$data&&!("code"in _||"validate"in _))throw new Error('$data keyword must have "code" or "validate" function')}function Te(z,_,k){var w;const s=_==null?void 0:_.post;if(k&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:d}=this;let R=s?d.post:d.rules.find(({type:F})=>F===k);if(R||(R={type:k,rules:[]},d.rules.push(R)),d.keywords[z]=!0,!_)return;const V={keyword:z,definition:We($e({},_),{type:(0,f.getJSONTypes)(_.type),schemaType:(0,f.getJSONTypes)(_.schemaType)})};_.before?st.call(this,R,V,_.before):R.rules.push(V),d.all[z]=V,(w=_.implements)===null||w===void 0||w.forEach(F=>this.addKeyword(F))}function st(z,_,k){const w=z.rules.findIndex(s=>s.keyword===k);w>=0?z.rules.splice(w,0,_):(z.rules.push(_),this.logger.warn(`rule ${k} is not defined`))}function yt(z){let{metaSchema:_}=z;_!==void 0&&(z.$data&&this.opts.$data&&(_=vt(_)),z.validateSchema=this.compile(_,!0))}const Ut={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function vt(z){return{anyOf:[z,Ut]}}}(Yt);var Ar={},Mr={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});const ao={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};zr.default=ao;var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.callRef=rt.getValidate=void 0;const so=rr,Zn=X,Se=W,ft=De,xn=be,sr=ee,oo={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:a}=e,{baseId:n,schemaEnv:i,validateName:u,opts:p,self:$}=a,{root:f}=i;if((r==="#"||r==="#/")&&n===f.baseId)return y();const h=xn.resolveRef.call($,f,n,r);if(h===void 0)throw new so.default(a.opts.uriResolver,n,r);if(h instanceof xn.SchemaEnv)return j(h);return I(h);function y(){if(i===f)return or(e,u,i,i.$async);const P=t.scopeValue("root",{ref:f});return or(e,(0,Se._)`${P}.validate`,f,f.$async)}function j(P){const E=ea(e,P);or(e,E,P,P.$async)}function I(P){const E=t.scopeValue("schema",p.code.source===!0?{ref:P,code:(0,Se.stringify)(P)}:{ref:P}),v=t.name("valid"),m=e.subschema({schema:P,dataTypes:[],schemaPath:Se.nil,topSchemaRef:E,errSchemaPath:r},v);e.mergeEvaluated(m),e.ok(v)}}};function ea(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Se._)`${r.scopeValue("wrapper",{ref:t})}.validate`}rt.getValidate=ea;function or(e,t,r,a){const{gen:n,it:i}=e,{allErrors:u,schemaEnv:p,opts:$}=i,f=$.passContext?ft.default.this:Se.nil;a?h():y();function h(){if(!p.$async)throw new Error("async schema referenced by sync schema");const P=n.let("valid");n.try(()=>{n.code((0,Se._)`await ${(0,Zn.callValidateCode)(e,t,f)}`),I(t),u||n.assign(P,!0)},E=>{n.if((0,Se._)`!(${E} instanceof ${i.ValidationError})`,()=>n.throw(E)),j(E),u||n.assign(P,!1)}),e.ok(P)}function y(){e.result((0,Zn.callValidateCode)(e,t,f),()=>I(t),()=>j(t))}function j(P){const E=(0,Se._)`${P}.errors`;n.assign(ft.default.vErrors,(0,Se._)`${ft.default.vErrors} === null ? ${E} : ${ft.default.vErrors}.concat(${E})`),n.assign(ft.default.errors,(0,Se._)`${ft.default.vErrors}.length`)}function I(P){var E;if(!i.opts.unevaluated)return;const v=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(i.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(i.props=sr.mergeEvaluated.props(n,v.props,i.props));else{const m=n.var("props",(0,Se._)`${P}.evaluated.props`);i.props=sr.mergeEvaluated.props(n,m,i.props,Se.Name)}if(i.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(i.items=sr.mergeEvaluated.items(n,v.items,i.items));else{const m=n.var("items",(0,Se._)`${P}.evaluated.items`);i.items=sr.mergeEvaluated.items(n,m,i.items,Se.Name)}}}rt.callRef=or,rt.default=oo,Object.defineProperty(Mr,"__esModule",{value:!0});const io=zr,co=rt,uo=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",io.default,co.default];Mr.default=uo;var Vr={},Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});const ir=W,Ye=ir.operators,cr={maximum:{okStr:"<=",ok:Ye.LTE,fail:Ye.GT},minimum:{okStr:">=",ok:Ye.GTE,fail:Ye.LT},exclusiveMaximum:{okStr:"<",ok:Ye.LT,fail:Ye.GTE},exclusiveMinimum:{okStr:">",ok:Ye.GT,fail:Ye.LTE}},lo={message:({keyword:e,schemaCode:t})=>(0,ir.str)`must be ${cr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ir._)`{comparison: ${cr[e].okStr}, limit: ${t}}`},fo={keyword:Object.keys(cr),type:"number",schemaType:"number",$data:!0,error:lo,code(e){const{keyword:t,data:r,schemaCode:a}=e;e.fail$data((0,ir._)`${r} ${cr[t].fail} ${a} || isNaN(${r})`)}};Fr.default=fo;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});const kt=W,ho={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,kt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,kt._)`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:a,it:n}=e,i=n.opts.multipleOfPrecision,u=t.let("res"),p=i?(0,kt._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${i}`:(0,kt._)`${u} !== parseInt(${u})`;e.fail$data((0,kt._)`(${a} === 0 || (${u} = ${r}/${a}, ${p}))`)}};Ur.default=ho;var qr={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});function ta(e){const t=e.length;let r=0,a=0,n;for(;a<t;)r++,n=e.charCodeAt(a++),n>=55296&&n<=56319&&a<t&&(n=e.charCodeAt(a),(n&64512)===56320&&a++);return r}Lr.default=ta,ta.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(qr,"__esModule",{value:!0});const nt=W,mo=ee,po=Lr,$o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,nt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,nt._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:a,it:n}=e,i=t==="maxLength"?nt.operators.GT:nt.operators.LT,u=n.opts.unicode===!1?(0,nt._)`${r}.length`:(0,nt._)`${(0,mo.useFunc)(e.gen,po.default)}(${r})`;e.fail$data((0,nt._)`${u} ${i} ${a}`)}};qr.default=$o;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});const yo=X,ur=W,vo={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,ur.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,ur._)`{pattern: ${e}}`},code(e){const{data:t,$data:r,schema:a,schemaCode:n,it:i}=e,u=i.opts.unicodeRegExp?"u":"",p=r?(0,ur._)`(new RegExp(${n}, ${u}))`:(0,yo.usePattern)(e,a);e.fail$data((0,ur._)`!${p}.test(${t})`)}};Kr.default=vo;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const Dt=W,_o={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Dt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Dt._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:a}=e,n=t==="maxProperties"?Dt.operators.GT:Dt.operators.LT;e.fail$data((0,Dt._)`Object.keys(${r}).length ${n} ${a}`)}};Hr.default=_o;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});const At=X,Mt=W,go=ee,wo={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,Mt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Mt._)`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:a,data:n,$data:i,it:u}=e,{opts:p}=u;if(!i&&r.length===0)return;const $=r.length>=p.loopRequired;if(u.allErrors?f():h(),p.strictRequired){const I=e.parentSchema.properties,{definedProperties:P}=e.it;for(const E of r)if((I==null?void 0:I[E])===void 0&&!P.has(E)){const v=u.schemaEnv.baseId+u.errSchemaPath,m=`required property "${E}" is not defined at "${v}" (strictRequired)`;(0,go.checkStrictMode)(u,m,u.opts.strictRequired)}}function f(){if($||i)e.block$data(Mt.nil,y);else for(const I of r)(0,At.checkReportMissingProp)(e,I)}function h(){const I=t.let("missing");if($||i){const P=t.let("valid",!0);e.block$data(P,()=>j(I,P)),e.ok(P)}else t.if((0,At.checkMissingProp)(e,r,I)),(0,At.reportMissingProp)(e,I),t.else()}function y(){t.forOf("prop",a,I=>{e.setParams({missingProperty:I}),t.if((0,At.noPropertyInData)(t,n,I,p.ownProperties),()=>e.error())})}function j(I,P){e.setParams({missingProperty:I}),t.forOf(I,a,()=>{t.assign(P,(0,At.propertyInData)(t,n,I,p.ownProperties)),t.if((0,Mt.not)(P),()=>{e.error(),t.break()})},Mt.nil)}}};Gr.default=wo;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const zt=W,Eo={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,zt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,zt._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:a}=e,n=t==="maxItems"?zt.operators.GT:zt.operators.LT;e.fail$data((0,zt._)`${r}.length ${n} ${a}`)}};Jr.default=Eo;var Wr={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});const ra=Cn;ra.code='require("ajv/dist/runtime/equal").default',Vt.default=ra,Object.defineProperty(Wr,"__esModule",{value:!0});const Br=Rt,pe=W,bo=ee,So=Vt,Po={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,pe.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,pe._)`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:a,schema:n,parentSchema:i,schemaCode:u,it:p}=e;if(!a&&!n)return;const $=t.let("valid"),f=i.items?(0,Br.getSchemaTypes)(i.items):[];e.block$data($,h,(0,pe._)`${u} === false`),e.ok($);function h(){const P=t.let("i",(0,pe._)`${r}.length`),E=t.let("j");e.setParams({i:P,j:E}),t.assign($,!0),t.if((0,pe._)`${P} > 1`,()=>(y()?j:I)(P,E))}function y(){return f.length>0&&!f.some(P=>P==="object"||P==="array")}function j(P,E){const v=t.name("item"),m=(0,Br.checkDataTypes)(f,v,p.opts.strictNumbers,Br.DataType.Wrong),O=t.const("indices",(0,pe._)`{}`);t.for((0,pe._)`;${P}--;`,()=>{t.let(v,(0,pe._)`${r}[${P}]`),t.if(m,(0,pe._)`continue`),f.length>1&&t.if((0,pe._)`typeof ${v} == "string"`,(0,pe._)`${v} += "_"`),t.if((0,pe._)`typeof ${O}[${v}] == "number"`,()=>{t.assign(E,(0,pe._)`${O}[${v}]`),e.error(),t.assign($,!1).break()}).code((0,pe._)`${O}[${v}] = ${P}`)})}function I(P,E){const v=(0,bo.useFunc)(t,So.default),m=t.name("outer");t.label(m).for((0,pe._)`;${P}--;`,()=>t.for((0,pe._)`${E} = ${P}; ${E}--;`,()=>t.if((0,pe._)`${v}(${r}[${P}], ${r}[${E}])`,()=>{e.error(),t.assign($,!1).break(m)})))}}};Wr.default=Po;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});const Qr=W,No=ee,Oo=Vt,To={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,Qr._)`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:a,schemaCode:n,schema:i}=e;a||i&&typeof i=="object"?e.fail$data((0,Qr._)`!${(0,No.useFunc)(t,Oo.default)}(${r}, ${n})`):e.fail((0,Qr._)`${i} !== ${r}`)}};Xr.default=To;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});const Ft=W,Co=ee,Ro=Vt,Io={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Ft._)`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:a,schema:n,schemaCode:i,it:u}=e;if(!a&&n.length===0)throw new Error("enum must have non-empty array");const p=n.length>=u.opts.loopEnum;let $;const f=()=>$!=null?$:$=(0,Co.useFunc)(t,Ro.default);let h;if(p||a)h=t.let("valid"),e.block$data(h,y);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const I=t.const("vSchema",i);h=(0,Ft.or)(...n.map((P,E)=>j(I,E)))}e.pass(h);function y(){t.assign(h,!1),t.forOf("v",i,I=>t.if((0,Ft._)`${f()}(${r}, ${I})`,()=>t.assign(h,!0).break()))}function j(I,P){const E=n[P];return typeof E=="object"&&E!==null?(0,Ft._)`${f()}(${r}, ${I}[${P}])`:(0,Ft._)`${r} === ${E}`}}};Yr.default=Io,Object.defineProperty(Vr,"__esModule",{value:!0});const jo=Fr,ko=Ur,Do=qr,Ao=Kr,Mo=Hr,zo=Gr,Vo=Jr,Fo=Wr,Uo=Xr,qo=Yr,Lo=[jo.default,ko.default,Do.default,Ao.default,Mo.default,zo.default,Vo.default,Fo.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Uo.default,qo.default];Vr.default=Lo;var Zr={},ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.validateAdditionalItems=void 0;const at=W,xr=ee,Ko={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,at.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,at._)`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:a}=t;if(!Array.isArray(a)){(0,xr.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}na(e,a)}};function na(e,t){const{gen:r,schema:a,data:n,keyword:i,it:u}=e;u.items=!0;const p=r.const("len",(0,at._)`${n}.length`);if(a===!1)e.setParams({len:t.length}),e.pass((0,at._)`${p} <= ${t.length}`);else if(typeof a=="object"&&!(0,xr.alwaysValidSchema)(u,a)){const f=r.var("valid",(0,at._)`${p} <= ${t.length}`);r.if((0,at.not)(f),()=>$(f)),e.ok(f)}function $(f){r.forRange("i",t.length,p,h=>{e.subschema({keyword:i,dataProp:h,dataPropType:xr.Type.Num},f),u.allErrors||r.if((0,at.not)(f),()=>r.break())})}}ht.validateAdditionalItems=na,ht.default=Ko;var en={},mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.validateTuple=void 0;const aa=W,dr=ee,Ho=X,Go={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return sa(e,"additionalItems",t);r.items=!0,!(0,dr.alwaysValidSchema)(r,t)&&e.ok((0,Ho.validateArray)(e))}};function sa(e,t,r=e.schema){const{gen:a,parentSchema:n,data:i,keyword:u,it:p}=e;h(n),p.opts.unevaluated&&r.length&&p.items!==!0&&(p.items=dr.mergeEvaluated.items(a,r.length,p.items));const $=a.name("valid"),f=a.const("len",(0,aa._)`${i}.length`);r.forEach((y,j)=>{(0,dr.alwaysValidSchema)(p,y)||(a.if((0,aa._)`${f} > ${j}`,()=>e.subschema({keyword:u,schemaProp:j,dataProp:j},$)),e.ok($))});function h(y){const{opts:j,errSchemaPath:I}=p,P=r.length,E=P===y.minItems&&(P===y.maxItems||y[t]===!1);if(j.strictTuples&&!E){const v=`"${u}" is ${P}-tuple, but minItems or maxItems/${t} are not specified or different at path "${I}"`;(0,dr.checkStrictMode)(p,v,j.strictTuples)}}}mt.validateTuple=sa,mt.default=Go,Object.defineProperty(en,"__esModule",{value:!0});const Jo=mt,Wo={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Jo.validateTuple)(e,"items")};en.default=Wo;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});const oa=W,Bo=ee,Xo=X,Qo=ht,Yo={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,oa.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,oa._)`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:a}=e,{prefixItems:n}=r;a.items=!0,!(0,Bo.alwaysValidSchema)(a,t)&&(n?(0,Qo.validateAdditionalItems)(e,n):e.ok((0,Xo.validateArray)(e)))}};tn.default=Yo;var rn={};Object.defineProperty(rn,"__esModule",{value:!0});const Oe=W,lr=ee,Zo={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>t===void 0?(0,Oe.str)`must contain at least ${e} valid item(s)`:(0,Oe.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Oe._)`{minContains: ${e}}`:(0,Oe._)`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:n,it:i}=e;let u,p;const{minContains:$,maxContains:f}=a;i.opts.next?(u=$===void 0?1:$,p=f):u=1;const h=t.const("len",(0,Oe._)`${n}.length`);if(e.setParams({min:u,max:p}),p===void 0&&u===0){(0,lr.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&u>p){(0,lr.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,lr.alwaysValidSchema)(i,r)){let E=(0,Oe._)`${h} >= ${u}`;p!==void 0&&(E=(0,Oe._)`${E} && ${h} <= ${p}`),e.pass(E);return}i.items=!0;const y=t.name("valid");p===void 0&&u===1?I(y,()=>t.if(y,()=>t.break())):u===0?(t.let(y,!0),p!==void 0&&t.if((0,Oe._)`${n}.length > 0`,j)):(t.let(y,!1),j()),e.result(y,()=>e.reset());function j(){const E=t.name("_valid"),v=t.let("count",0);I(E,()=>t.if(E,()=>P(v)))}function I(E,v){t.forRange("i",0,h,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:lr.Type.Num,compositeRule:!0},E),v()})}function P(E){t.code((0,Oe._)`${E}++`),p===void 0?t.if((0,Oe._)`${E} >= ${u}`,()=>t.assign(y,!0).break()):(t.if((0,Oe._)`${E} > ${p}`,()=>t.assign(y,!1).break()),u===1?t.assign(y,!0):t.if((0,Oe._)`${E} >= ${u}`,()=>t.assign(y,!0)))}}};rn.default=Zo;var ia={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=W,r=ee,a=X;e.error={message:({params:{property:$,depsCount:f,deps:h}})=>{const y=f===1?"property":"properties";return(0,t.str)`must have ${y} ${h} when property ${$} is present`},params:({params:{property:$,depsCount:f,deps:h,missingProperty:y}})=>(0,t._)`{property: ${$},
    missingProperty: ${y},
    depsCount: ${f},
    deps: ${h}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code($){const[f,h]=i($);u($,f),p($,h)}};function i({schema:$}){const f={},h={};for(const y in $){if(y==="__proto__")continue;const j=Array.isArray($[y])?f:h;j[y]=$[y]}return[f,h]}function u($,f=$.schema){const{gen:h,data:y,it:j}=$;if(Object.keys(f).length===0)return;const I=h.let("missing");for(const P in f){const E=f[P];if(E.length===0)continue;const v=(0,a.propertyInData)(h,y,P,j.opts.ownProperties);$.setParams({property:P,depsCount:E.length,deps:E.join(", ")}),j.allErrors?h.if(v,()=>{for(const m of E)(0,a.checkReportMissingProp)($,m)}):(h.if((0,t._)`${v} && (${(0,a.checkMissingProp)($,E,I)})`),(0,a.reportMissingProp)($,I),h.else())}}e.validatePropertyDeps=u;function p($,f=$.schema){const{gen:h,data:y,keyword:j,it:I}=$,P=h.name("valid");for(const E in f)(0,r.alwaysValidSchema)(I,f[E])||(h.if((0,a.propertyInData)(h,y,E,I.opts.ownProperties),()=>{const v=$.subschema({keyword:j,schemaProp:E},P);$.mergeValidEvaluated(v,P)},()=>h.var(P,!0)),$.ok(P))}e.validateSchemaDeps=p,e.default=n})(ia);var nn={};Object.defineProperty(nn,"__esModule",{value:!0});const ca=W,xo=ee,ei={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,ca._)`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:a,it:n}=e;if((0,xo.alwaysValidSchema)(n,r))return;const i=t.name("valid");t.forIn("key",a,u=>{e.setParams({propertyName:u}),e.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},i),t.if((0,ca.not)(i),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(i)}};nn.default=ei;var fr={};Object.defineProperty(fr,"__esModule",{value:!0});const hr=X,ke=W,ti=De,mr=ee,ri={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,ke._)`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:n,errsCount:i,it:u}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:p,opts:$}=u;if(u.props=!0,$.removeAdditional!=="all"&&(0,mr.alwaysValidSchema)(u,r))return;const f=(0,hr.allSchemaProperties)(a.properties),h=(0,hr.allSchemaProperties)(a.patternProperties);y(),e.ok((0,ke._)`${i} === ${ti.default.errors}`);function y(){t.forIn("key",n,v=>{!f.length&&!h.length?P(v):t.if(j(v),()=>P(v))})}function j(v){let m;if(f.length>8){const O=(0,mr.schemaRefOrVal)(u,a.properties,"properties");m=(0,hr.isOwnProperty)(t,O,v)}else f.length?m=(0,ke.or)(...f.map(O=>(0,ke._)`${v} === ${O}`)):m=ke.nil;return h.length&&(m=(0,ke.or)(m,...h.map(O=>(0,ke._)`${(0,hr.usePattern)(e,O)}.test(${v})`))),(0,ke.not)(m)}function I(v){t.code((0,ke._)`delete ${n}[${v}]`)}function P(v){if($.removeAdditional==="all"||$.removeAdditional&&r===!1){I(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),p||t.break();return}if(typeof r=="object"&&!(0,mr.alwaysValidSchema)(u,r)){const m=t.name("valid");$.removeAdditional==="failing"?(E(v,m,!1),t.if((0,ke.not)(m),()=>{e.reset(),I(v)})):(E(v,m),p||t.if((0,ke.not)(m),()=>t.break()))}}function E(v,m,O){const b={keyword:"additionalProperties",dataProp:v,dataPropType:mr.Type.Str};O===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,m)}}};fr.default=ri;var an={};Object.defineProperty(an,"__esModule",{value:!0});const ni=ge,ua=X,sn=ee,da=fr,ai={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:a,data:n,it:i}=e;i.opts.removeAdditional==="all"&&a.additionalProperties===void 0&&da.default.code(new ni.KeywordCxt(i,da.default,"additionalProperties"));const u=(0,ua.allSchemaProperties)(r);for(const y of u)i.definedProperties.add(y);i.opts.unevaluated&&u.length&&i.props!==!0&&(i.props=sn.mergeEvaluated.props(t,(0,sn.toHash)(u),i.props));const p=u.filter(y=>!(0,sn.alwaysValidSchema)(i,r[y]));if(p.length===0)return;const $=t.name("valid");for(const y of p)f(y)?h(y):(t.if((0,ua.propertyInData)(t,n,y,i.opts.ownProperties)),h(y),i.allErrors||t.else().var($,!0),t.endIf()),e.it.definedProperties.add(y),e.ok($);function f(y){return i.opts.useDefaults&&!i.compositeRule&&r[y].default!==void 0}function h(y){e.subschema({keyword:"properties",schemaProp:y,dataProp:y},$)}}};an.default=ai;var on={};Object.defineProperty(on,"__esModule",{value:!0});const la=X,pr=W,fa=ee,ha=ee,si={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:a,parentSchema:n,it:i}=e,{opts:u}=i,p=(0,la.allSchemaProperties)(r),$=p.filter(E=>(0,fa.alwaysValidSchema)(i,r[E]));if(p.length===0||$.length===p.length&&(!i.opts.unevaluated||i.props===!0))return;const f=u.strictSchema&&!u.allowMatchingProperties&&n.properties,h=t.name("valid");i.props!==!0&&!(i.props instanceof pr.Name)&&(i.props=(0,ha.evaluatedPropsToName)(t,i.props));const{props:y}=i;j();function j(){for(const E of p)f&&I(E),i.allErrors?P(E):(t.var(h,!0),P(E),t.if(h))}function I(E){for(const v in f)new RegExp(E).test(v)&&(0,fa.checkStrictMode)(i,`property ${v} matches pattern ${E} (use allowMatchingProperties)`)}function P(E){t.forIn("key",a,v=>{t.if((0,pr._)`${(0,la.usePattern)(e,E)}.test(${v})`,()=>{const m=$.includes(E);m||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:v,dataPropType:ha.Type.Str},h),i.opts.unevaluated&&y!==!0?t.assign((0,pr._)`${y}[${v}]`,!0):!m&&!i.allErrors&&t.if((0,pr.not)(h),()=>t.break())})})}}};on.default=si;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});const oi=ee,ii={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:a}=e;if((0,oi.alwaysValidSchema)(a,r)){e.fail();return}const n=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),e.failResult(n,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};cn.default=ii;var un={};Object.defineProperty(un,"__esModule",{value:!0});const ci={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:X.validateUnion,error:{message:"must match a schema in anyOf"}};un.default=ci;var dn={};Object.defineProperty(dn,"__esModule",{value:!0});const $r=W,ui=ee,di={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,$r._)`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:a,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&a.discriminator)return;const i=r,u=t.let("valid",!1),p=t.let("passing",null),$=t.name("_valid");e.setParams({passing:p}),t.block(f),e.result(u,()=>e.reset(),()=>e.error(!0));function f(){i.forEach((h,y)=>{let j;(0,ui.alwaysValidSchema)(n,h)?t.var($,!0):j=e.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},$),y>0&&t.if((0,$r._)`${$} && ${u}`).assign(u,!1).assign(p,(0,$r._)`[${p}, ${y}]`).else(),t.if($,()=>{t.assign(u,!0),t.assign(p,y),j&&e.mergeEvaluated(j,$r.Name)})})}}};dn.default=di;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});const li=ee,fi={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=t.name("valid");r.forEach((i,u)=>{if((0,li.alwaysValidSchema)(a,i))return;const p=e.subschema({keyword:"allOf",schemaProp:u},n);e.ok(n),e.mergeEvaluated(p)})}};ln.default=fi;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});const yr=W,ma=ee,hi={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,yr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,yr._)`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:a}=e;r.then===void 0&&r.else===void 0&&(0,ma.checkStrictMode)(a,'"if" without "then" and "else" is ignored');const n=pa(a,"then"),i=pa(a,"else");if(!n&&!i)return;const u=t.let("valid",!0),p=t.name("_valid");if($(),e.reset(),n&&i){const h=t.let("ifClause");e.setParams({ifClause:h}),t.if(p,f("then",h),f("else",h))}else n?t.if(p,f("then")):t.if((0,yr.not)(p),f("else"));e.pass(u,()=>e.error(!0));function $(){const h=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},p);e.mergeEvaluated(h)}function f(h,y){return()=>{const j=e.subschema({keyword:h},p);t.assign(u,p),e.mergeValidEvaluated(j,u),y?t.assign(y,(0,yr._)`${h}`):e.setParams({ifClause:h})}}}};function pa(e,t){const r=e.schema[t];return r!==void 0&&!(0,ma.alwaysValidSchema)(e,r)}fn.default=hi;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});const mi=ee,pi={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,mi.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};hn.default=pi,Object.defineProperty(Zr,"__esModule",{value:!0});const $i=ht,yi=en,vi=mt,_i=tn,gi=rn,wi=ia,Ei=nn,bi=fr,Si=an,Pi=on,Ni=cn,Oi=un,Ti=dn,Ci=ln,Ri=fn,Ii=hn;function ji(e=!1){const t=[Ni.default,Oi.default,Ti.default,Ci.default,Ri.default,Ii.default,Ei.default,bi.default,wi.default,Si.default,Pi.default];return e?t.push(yi.default,_i.default):t.push($i.default,vi.default),t.push(gi.default),t}Zr.default=ji;var mn={},pn={};Object.defineProperty(pn,"__esModule",{value:!0});const ce=W,ki={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,ce.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ce._)`{format: ${e}}`},code(e,t){const{gen:r,data:a,$data:n,schema:i,schemaCode:u,it:p}=e,{opts:$,errSchemaPath:f,schemaEnv:h,self:y}=p;if(!$.validateFormats)return;n?j():I();function j(){const P=r.scopeValue("formats",{ref:y.formats,code:$.code.formats}),E=r.const("fDef",(0,ce._)`${P}[${u}]`),v=r.let("fType"),m=r.let("format");r.if((0,ce._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(v,(0,ce._)`${E}.type || "string"`).assign(m,(0,ce._)`${E}.validate`),()=>r.assign(v,(0,ce._)`"string"`).assign(m,E)),e.fail$data((0,ce.or)(O(),b()));function O(){return $.strictSchema===!1?ce.nil:(0,ce._)`${u} && !${m}`}function b(){const C=h.$async?(0,ce._)`(${E}.async ? await ${m}(${a}) : ${m}(${a}))`:(0,ce._)`${m}(${a})`,A=(0,ce._)`(typeof ${m} == "function" ? ${C} : ${m}.test(${a}))`;return(0,ce._)`${m} && ${m} !== true && ${v} === ${t} && !${A}`}}function I(){const P=y.formats[i];if(!P){O();return}if(P===!0)return;const[E,v,m]=b(P);E===t&&e.pass(C());function O(){if($.strictSchema===!1){y.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${i}" ignored in schema at path "${f}"`}}function b(A){const g=A instanceof RegExp?(0,ce.regexpCode)(A):$.code.formats?(0,ce._)`${$.code.formats}${(0,ce.getProperty)(i)}`:void 0,T=r.scopeValue("formats",{key:i,ref:A,code:g});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,ce._)`${T}.validate`]:["string",A,T]}function C(){if(typeof P=="object"&&!(P instanceof RegExp)&&P.async){if(!h.$async)throw new Error("async format in sync schema");return(0,ce._)`await ${m}(${a})`}return typeof v=="function"?(0,ce._)`${m}(${a})`:(0,ce._)`${m}.test(${a})`}}}};pn.default=ki,Object.defineProperty(mn,"__esModule",{value:!0});const Di=[pn.default];mn.default=Di;var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.contentVocabulary=pt.metadataVocabulary=void 0,pt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],pt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(Ar,"__esModule",{value:!0});const Ai=Mr,Mi=Vr,zi=Zr,Vi=mn,$a=pt,Fi=[Ai.default,Mi.default,(0,zi.default)(),Vi.default,$a.metadataVocabulary,$a.contentVocabulary];Ar.default=Fi;var $n={},ya={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(ya),Object.defineProperty($n,"__esModule",{value:!0});const $t=W,yn=ya,va=be,Ui=ee,qi={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===yn.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,$t._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:a,parentSchema:n,it:i}=e,{oneOf:u}=n;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=a.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const $=t.let("valid",!1),f=t.const("tag",(0,$t._)`${r}${(0,$t.getProperty)(p)}`);t.if((0,$t._)`typeof ${f} == "string"`,()=>h(),()=>e.error(!1,{discrError:yn.DiscrError.Tag,tag:f,tagName:p})),e.ok($);function h(){const I=j();t.if(!1);for(const P in I)t.elseIf((0,$t._)`${f} === ${P}`),t.assign($,y(I[P]));t.else(),e.error(!1,{discrError:yn.DiscrError.Mapping,tag:f,tagName:p}),t.endIf()}function y(I){const P=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:I},P);return e.mergeEvaluated(E,$t.Name),P}function j(){var I;const P={},E=m(n);let v=!0;for(let C=0;C<u.length;C++){let A=u[C];(A==null?void 0:A.$ref)&&!(0,Ui.schemaHasRulesButRef)(A,i.self.RULES)&&(A=va.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,A==null?void 0:A.$ref),A instanceof va.SchemaEnv&&(A=A.schema));const g=(I=A==null?void 0:A.properties)===null||I===void 0?void 0:I[p];if(typeof g!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);v=v&&(E||m(A)),O(g,C)}if(!v)throw new Error(`discriminator: "${p}" must be required`);return P;function m({required:C}){return Array.isArray(C)&&C.includes(p)}function O(C,A){if(C.const)b(C.const,A);else if(C.enum)for(const g of C.enum)b(g,A);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function b(C,A){if(typeof C!="string"||C in P)throw new Error(`discriminator: "${p}" values must be unique strings`);P[C]=A}}}};$n.default=qi;var Li={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};return function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Yt,a=Ar,n=$n,i=Li,u=["/properties"],p="http://json-schema.org/draft-07/schema";class $ extends r.default{_addVocabularies(){super._addVocabularies(),a.default.forEach(j=>this.addVocabulary(j)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const j=this.opts.$data?this.$dataMetaSchema(i,u):i;this.addMetaSchema(j,p,!1),this.refs["http://json-schema.org/schema"]=p}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(p)?p:void 0)}}e.exports=t=$,Object.defineProperty(t,"__esModule",{value:!0}),t.default=$;var f=ge;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var h=W;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}})}(Tt,Tt.exports),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Tt.exports,r=W,a=r.operators,n={formatMaximum:{okStr:"<=",ok:a.LTE,fail:a.GT},formatMinimum:{okStr:">=",ok:a.GTE,fail:a.LT},formatExclusiveMaximum:{okStr:"<",ok:a.LT,fail:a.GTE},formatExclusiveMinimum:{okStr:">",ok:a.GT,fail:a.LTE}},i={message:({keyword:p,schemaCode:$})=>r.str`should be ${n[p].okStr} ${$}`,params:({keyword:p,schemaCode:$})=>r._`{comparison: ${n[p].okStr}, limit: ${$}}`};e.formatLimitDefinition={keyword:Object.keys(n),type:"string",schemaType:"string",$data:!0,error:i,code(p){const{gen:$,data:f,schemaCode:h,keyword:y,it:j}=p,{opts:I,self:P}=j;if(!I.validateFormats)return;const E=new t.KeywordCxt(j,P.RULES.all.format.definition,"format");E.$data?v():m();function v(){const b=$.scopeValue("formats",{ref:P.formats,code:I.code.formats}),C=$.const("fmt",r._`${b}[${E.schemaCode}]`);p.fail$data(r.or(r._`typeof ${C} != "object"`,r._`${C} instanceof RegExp`,r._`typeof ${C}.compare != "function"`,O(C)))}function m(){const b=E.schema,C=P.formats[b];if(!C||C===!0)return;if(typeof C!="object"||C instanceof RegExp||typeof C.compare!="function")throw new Error(`"${y}": format "${b}" does not define "compare" function`);const A=$.scopeValue("formats",{key:b,ref:C,code:I.code.formats?r._`${I.code.formats}${r.getProperty(b)}`:void 0});p.fail$data(O(A))}function O(b){return r._`${b}.compare(${f}, ${h}) ${n[y].fail} 0`}},dependencies:["format"]};const u=p=>(p.addKeyword(e.formatLimitDefinition),p);e.default=u}(Ot),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Qt,a=Ot,n=W,i=new n.Name("fullFormats"),u=new n.Name("fastFormats"),p=(f,h={keywords:!0})=>{if(Array.isArray(h))return $(f,h,r.fullFormats,i),f;const[y,j]=h.mode==="fast"?[r.fastFormats,u]:[r.fullFormats,i],I=h.formats||r.formatNames;return $(f,I,y,j),h.keywords&&a.default(f),f};p.get=(f,h="full")=>{const j=(h==="fast"?r.fastFormats:r.fullFormats)[f];if(!j)throw new Error(`Unknown format "${f}"`);return j};function $(f,h,y,j){var I,P;(I=(P=f.opts.code).formats)!==null&&I!==void 0||(P.formats=n._`require("ajv-formats/dist/formats").${j}`);for(const E of h)f.addFormat(E,y[E])}e.exports=t=p,Object.defineProperty(t,"__esModule",{value:!0}),t.default=p}(he,he.exports),_e.ajvFormats=he.exports.ajvFormats,Object.defineProperties(_e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),_e}({});
